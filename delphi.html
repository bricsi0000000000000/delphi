<!DOCTYPE html>
    <html>
    <head>
        <meta charset="UTF-8">
        <title>1&period; Data types</title>
        <style>
</style>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.css" integrity="sha384-yFRtMMDnQtDRO8rLpMIKrtPCD5jdktao2TV19YiZYWMDkUR5GQZR/NOVTdquEx1j" crossorigin="anonymous">
<link href="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.css" rel="stylesheet" type="text/css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/markdown.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/highlight.css">
<style>
            body {
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe WPC', 'Segoe UI', system-ui, 'Ubuntu', 'Droid Sans', sans-serif;
                font-size: 14px;
                line-height: 1.6;
            }
        </style>
        <style>
.task-list-item { list-style-type: none; } .task-list-item-checkbox { margin-left: -20px; vertical-align: middle; }
</style>
        
        <script src="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.js"></script>
        
    </head>
    <body class="vscode-body vscode-light">
        <ul>
<li><a href="#1-data-types">1. Data types</a>
<ul>
<li><a href="#11-integers">1.1. Integers</a></li>
<li><a href="#12-decimals">1.2. Decimals</a></li>
<li><a href="#13-texts">1.3. Texts</a></li>
<li><a href="#14-logical">1.4. Logical</a></li>
<li><a href="#15-sets-enumerations-and-subtypes">1.5. Sets, enumerations and subtypes</a>
<ul>
<li><a href="#151-enumerations-enum">1.5.1. Enumerations <em>(<code>enum</code>)</em></a></li>
<li><a href="#152-subranges">1.5.2. SubRanges</a></li>
<li><a href="#153-sets">1.5.3. Sets</a>
<ul>
<li><a href="#1531-including-and-excluding-set-values">1.5.3.1. Including and excluding set values</a></li>
<li><a href="#1532-set-operators">1.5.3.2. Set operators</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#16-compound-data-types">1.6. Compound data types</a>
<ul>
<li><a href="#161-arrays">1.6.1. Arrays</a></li>
<li><a href="#162-records">1.6.2. Records</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#2-operators">2. Operators</a>
<ul>
<li><a href="#21-binary-arithmetic-operators">2.1. Binary Arithmetic Operators</a></li>
<li><a href="#22-unary-arithmetic-operators">2.2. Unary arithmetic operators:</a></li>
<li><a href="#23-boolean-operators">2.3. Boolean Operators:</a></li>
<li><a href="#24-logical-bitwise-operators">2.4. Logical (Bitwise) Operators:</a></li>
<li><a href="#25-string-operators">2.5. String Operators:</a></li>
<li><a href="#26-relational-operators">2.6. Relational Operators:</a></li>
<li><a href="#27-precedence-of-operators">2.7. Precedence of operators</a></li>
</ul>
</li>
<li><a href="#3-programming-logic">3. Programming logic</a>
<ul>
<li><a href="#31-if-then-else">3.1. If then else</a></li>
<li><a href="#32-case-statements">3.2. Case statements</a>
<ul>
<li><a href="#321-a-simple-numerical-case-statement">3.2.1. A simple numerical case statement</a></li>
<li><a href="#322-using-the-otherwise-clause">3.2.2. Using the otherwise clause</a></li>
<li><a href="#323-using-enumeration-case-values">3.2.3. Using enumeration case values</a></li>
</ul>
</li>
<li><a href="#33-loops">3.3. Loops</a>
<ul>
<li><a href="#331-for">3.3.1. For</a></li>
<li><a href="#332-repeat">3.3.2. Repeat</a></li>
<li><a href="#333-while">3.3.3. While</a></li>
</ul>
</li>
<li><a href="#34-subroutines">3.4. Subroutines</a>
<ul>
<li><a href="#341-a-procedure-without-parameters">3.4.1. A procedure without parameters</a></li>
<li><a href="#342-a-procedure-with-parameters">3.4.2. A procedure with parameters</a></li>
<li><a href="#343-a-function-without-parameters">3.4.3. A function without parameters</a></li>
<li><a href="#344-a-function-with-parameters">3.4.4. A function with parameters</a></li>
<li><a href="#345-passing-data-by-reference">3.4.5. Passing data by reference</a></li>
<li><a href="#346-output-only-parameters">3.4.6. Output only parameters</a></li>
<li><a href="#347-constant-value-parameters">3.4.7. Constant value parameters</a></li>
<li><a href="#348-same-routine-different-parameters">3.4.8. Same routine, different parameters</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#4-exception-handling">4. Exception handling</a>
<ul>
<li><a href="#41-try-except">4.1. Try, except</a></li>
<li><a href="#42-raising-exceptions">4.2. Raising exceptions</a></li>
</ul>
</li>
<li><a href="#5-dates-and-times">5. Dates and times</a>
<ul>
<li><a href="#51-tdatetime">5.1. TDateTime</a></li>
<li><a href="#52-short-and-long-month-names">5.2. Short and long month names</a></li>
<li><a href="#53-short-and-long-day-names">5.3. Short and long day names</a></li>
<li><a href="#54-date-and-time-calculations">5.4. Date and time calculations</a></li>
<li><a href="#55-displaying-date-and-time-values">5.5. Displaying date and time values</a>
<ul>
<li><a href="#551-displaying-date-and-time-values">5.5.1. Displaying date and time values</a></li>
<li><a href="#552-formatting-control-variables">5.5.2. Formatting control variables</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#6-files">6. Files</a>
<ul>
<li><a href="#61-accessing-files">6.1. Accessing files</a></li>
<li><a href="#62-reading-and-writing-to-text-files">6.2. Reading and writing to text files</a>
<ul>
<li><a href="#621-example-code--reading-one-character-at-a-time-from-a-text-file-line">6.2.1. Example code : Reading one character at a time from a text file line</a></li>
</ul>
</li>
<li><a href="#63-reading-and-writing-to-typed-binary-files">6.3. Reading and writing to typed binary files</a></li>
<li><a href="#64-reading-and-writing-to-pure-binary-files">6.4. Reading and writing to pure binary files</a></li>
<li><a href="#65-other-file-processing-mechanisms">6.5. Other file processing mechanisms</a></li>
<li><a href="#66-getting-information-about-files-and-directories">6.6. Getting information about files and directories</a></li>
<li><a href="#67-using-tstringlist-to-read-and-write-text-files">6.7. Using TStringList to read and write text files</a></li>
<li><a href="#68-extract-file-path">6.8. Extract file path</a></li>
<li><a href="#69-paramstr">6.9. ParamStr</a></li>
</ul>
</li>
<li><a href="#7-conversions">7. Conversions</a>
<ul>
<li><a href="#71-integer-to-string">7.1. Integer to string</a></li>
<li><a href="#72-float-to-string">7.2. Float to string</a></li>
<li><a href="#73-string-to-integer">7.3. String to integer</a></li>
<li><a href="#74-tryparse-string-to-integer">7.4. Tryparse string to integer</a></li>
</ul>
</li>
<li><a href="#8-format">8. Format</a></li>
<li><a href="#9-class">9. Class</a></li>
<li><a href="#10-ui-elements">10. UI elements</a>
<ul>
<li><a href="#101-label">10.1. Label</a></li>
<li><a href="#102-dialog">10.2. Dialog</a>
<ul>
<li><a href="#1021-confirmation-dialog">10.2.1. Confirmation dialog</a></li>
<li><a href="#1022-custom-dialog-with-custom-button-selection">10.2.2. Custom dialog with custom button selection</a></li>
</ul>
</li>
<li><a href="#103-picture">10.3. Picture</a></li>
<li><a href="#104-timer">10.4. Timer</a></li>
<li><a href="#105-toolbar">10.5. Toolbar</a></li>
<li><a href="#106-form">10.6. Form</a>
<ul>
<li><a href="#1061-create-another-form">10.6.1. Create another form</a></li>
</ul>
</li>
<li><a href="#107-listbox">10.7. ListBox</a></li>
<li><a href="#108-drag-and-drop">10.8. Drag and drop</a>
<ul>
<li><a href="#1081-listbox">10.8.1. ListBox</a></li>
</ul>
</li>
<li><a href="#109-stringgrid">10.9. StringGrid</a></li>
<li><a href="#canvas">Canvas</a>
<ul>
<li><a href="#draw-line">Draw line</a></li>
<li><a href="#draw-ellipse">Draw ellipse</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#11-good-to-know">11. Good to know</a>
<ul>
<li><a href="#111-generate-random-character">11.1. Generate random character</a></li>
<li><a href="#112-textbox-edit-when-press-enter">11.2. Textbox <code>Edit</code> when press enter</a></li>
</ul>
</li>
<li><a href="#12-errors">12. Errors</a></li>
</ul>
<h1 id="1-data-types">1. Data types</h1>
<h2 id="11-integers">1.1. Integers</h2>
<pre><code class="language-pas"><div><span class="hljs-keyword">var</span>
    Int1 : Byte;     <span class="hljs-comment">//                        0 to 255</span>
    Int2 : ShortInt; <span class="hljs-comment">//                     -127 to 127</span>
    Int3 : Word;     <span class="hljs-comment">//                        0 to 65,535</span>
    Int4 : SmallInt; <span class="hljs-comment">//                  -32,768 to 32,767</span>
    Int5 : LongWord; <span class="hljs-comment">//                        0 to 4,294,967,295</span>
    Int6 : Cardinal; <span class="hljs-comment">//                        0 to 4,294,967,295</span>
    Int7 : LongInt;  <span class="hljs-comment">//           -2,147,483,648 to 2,147,483,647</span>
    Int8 : Integer;  <span class="hljs-comment">//           -2,147,483,648 to 2,147,483,647</span>
    Int9 : Int64;    <span class="hljs-comment">// -9,223,372,036,854,775,808 to 9,223,372,036,854,775,807</span>
</div></code></pre>
<h2 id="12-decimals">1.2. Decimals</h2>
<pre><code class="language-pas"><div><span class="hljs-keyword">var</span>
    Dec1 : Single;   <span class="hljs-comment">//  7  significant digits, exponent   -38 to +38</span>
    Dec2 : Currency; <span class="hljs-comment">// 50+ significant digits, fixed 4 decimal places</span>
    Dec3 : Double;   <span class="hljs-comment">// 15  significant digits, exponent  -308 to +308</span>
    Dec4 : Extended; <span class="hljs-comment">// 19  significant digits, exponent -4932 to +4932</span>
</div></code></pre>
<h2 id="13-texts">1.3. Texts</h2>
<pre><code class="language-pas"><div><span class="hljs-keyword">var</span>
   Str1 : Char;        <span class="hljs-comment">// Holds a single character, small alphabet</span>
   Str2 : WideChar;    <span class="hljs-comment">// Holds a single character, International alphabet</span>
   Str3 : AnsiChar;    <span class="hljs-comment">// Holds a single character, small alphabet</span>
   Str4 : ShortString; <span class="hljs-comment">// Holds a string of up to 255 Char&#x27;s</span>
   Str5 : <span class="hljs-keyword">String</span>;      <span class="hljs-comment">// Holds strings of Char&#x27;s of any size desired</span>
   Str6 : AnsiString;  <span class="hljs-comment">// Holds strings of AnsiChar&#x27;s any size desired</span>
   Str7 : WideString;  <span class="hljs-comment">// Holds strings of WideChar&#x27;s of any size desired</span>
</div></code></pre>
<h2 id="14-logical">1.4. Logical</h2>
<pre><code class="language-pas"><div><span class="hljs-keyword">var</span>
   Log1 : Boolean;     <span class="hljs-comment">// Can be &#x27;True&#x27; or &#x27;False&#x27;</span>
</div></code></pre>
<h2 id="15-sets-enumerations-and-subtypes">1.5. Sets, enumerations and subtypes</h2>
<pre><code class="language-pas"><div><span class="hljs-keyword">type</span>
   TSuit = (Hearts, Diamonds, Clubs, Spades);    <span class="hljs-comment">// Defines the enumeration</span>
 <span class="hljs-keyword">var</span>
   suit : TSuit;                                 <span class="hljs-comment">// An enumeration variable</span>
</div></code></pre>
<p>Sets are often confused with enumerations.</p>
<p>An <strong>enumeration variable</strong> can have <strong>only one of the enumerated values</strong>.</p>
<p>A <strong>set</strong> can have <strong>none</strong>, <strong>1</strong>, <strong>some</strong>, or <strong>all of the set values</strong>.</p>
<pre><code class="language-pas"><div><span class="hljs-keyword">type</span>
   TWeek = <span class="hljs-keyword">Set</span> <span class="hljs-keyword">of</span> <span class="hljs-number">1</span>..<span class="hljs-number">7</span>;      <span class="hljs-comment">// Set comprising the days of the week, by number</span>
 <span class="hljs-keyword">var</span>
   week : TWeek;
 <span class="hljs-keyword">begin</span>
   week := [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>];      <span class="hljs-comment">// Switch on the first 5 days of the week</span>
 <span class="hljs-keyword">end</span>;
</div></code></pre>
<h3 id="151-enumerations-enum">1.5.1. Enumerations <em>(<code>enum</code>)</em></h3>
<pre><code class="language-pas"><div><span class="hljs-keyword">type</span>
   TSuit = (Hearts, Diamonds, Clubs, Spades);   <span class="hljs-comment">// Defines enumeration range</span>
 <span class="hljs-keyword">var</span>
   suit : TSuit;                                <span class="hljs-comment">// Defines enumeration variable</span>
 <span class="hljs-keyword">begin</span>
   suit := Clubs;                               <span class="hljs-comment">// Set to one of the values</span>
 <span class="hljs-keyword">end</span>;
</div></code></pre>
<p>The TSuit type definition creates a new Delphi data type that we can use as a type for any new variable in our program.</p>
<pre><code class="language-pas"><div> <span class="hljs-keyword">type</span>
   TDay = (Mon=<span class="hljs-number">1</span>, Tue, Wed, Thu, Fri, Sat, Sun);   <span class="hljs-comment">// Enumeration values</span>
 <span class="hljs-keyword">var</span>
   today   : TDay;
   weekend : Boolean;
 <span class="hljs-keyword">begin</span>
   today := Wed;          <span class="hljs-comment">// Set today to be Wednesday</span>
   
   <span class="hljs-keyword">if</span> today &gt; Fri         <span class="hljs-comment">// Ask if it is a weekend day</span>
   <span class="hljs-keyword">then</span> weekend := true
   <span class="hljs-keyword">else</span> weekend := false;
 <span class="hljs-keyword">end</span>;
</div></code></pre>
<p><code>today</code> is set to <code>Wed</code> which has ordinal value = <code>3</code>
<code>weekend</code> is set to <code>false</code> since <code>Wed</code> (<code>3</code>) <code>&lt;=</code> <code>Fri</code> (<code>5</code>)</p>
<pre><code class="language-pas"><div><span class="hljs-keyword">type</span>
   TDay = (Mon=<span class="hljs-number">1</span>, Tue, Wed, Thu, Fri, Sat, Sun);   <span class="hljs-comment">// Enumeration values</span>
 <span class="hljs-keyword">var</span>
   day : TDay;          <span class="hljs-comment">// Enumeration variable</span>
 <span class="hljs-keyword">begin</span>
   <span class="hljs-keyword">for</span> day := Mon <span class="hljs-keyword">to</span> Fri <span class="hljs-keyword">do</span>
   <span class="hljs-keyword">begin</span>
     <span class="hljs-comment">// day has each of the values Mon to Fri ( 1 to 5) in 5 iterations</span>
     <span class="hljs-comment">// of this loop, allowing you to whatever you want.</span>
   <span class="hljs-keyword">end</span>;
 <span class="hljs-keyword">end</span>;
</div></code></pre>
<blockquote>
<p><strong>Warning</strong> : each of the values in an enumeration must be unique in a program. This restriction allows you to assign an enumeration value without having to qualify the type it is defined in.</p>
</blockquote>
<h3 id="152-subranges">1.5.2. SubRanges</h3>
<pre><code class="language-pas"><div><span class="hljs-keyword">type</span>
   TSmallNum = <span class="hljs-number">0</span>..<span class="hljs-number">9</span>;
 <span class="hljs-keyword">var</span>
   smallNum : TSmallNum;
 <span class="hljs-keyword">begin</span>
   smallNum := <span class="hljs-number">5</span>;    <span class="hljs-comment">// Allowed</span>
   smallNum := <span class="hljs-number">10</span>;   <span class="hljs-comment">// Not allowed</span>
   smallNum := -<span class="hljs-number">1</span>;   <span class="hljs-comment">// Not allowed</span>
 <span class="hljs-keyword">end</span>;
</div></code></pre>
<blockquote>
<p>Delphi will not compile code that has assignments outside of the given range.</p>
</blockquote>
<p>Subranges of characters:</p>
<pre><code class="language-pas"><div><span class="hljs-keyword">type</span>
   TUpper = <span class="hljs-string">&#x27;A&#x27;</span>..<span class="hljs-string">&#x27;Z&#x27;</span>;
   TLower = <span class="hljs-string">&#x27;a&#x27;</span>..<span class="hljs-string">&#x27;z&#x27;</span>;
   TDigit = <span class="hljs-string">&#x27;0&#x27;</span>..<span class="hljs-string">&#x27;9&#x27;</span>;
 <span class="hljs-keyword">var</span>
   upper : TUpper;
   lower : TLower;
   digit : TDigit;
 <span class="hljs-keyword">begin</span>
   upper := <span class="hljs-string">&#x27;G&#x27;</span>;   <span class="hljs-comment">// Allowed</span>
   lower := <span class="hljs-string">&#x27;g&#x27;</span>;   <span class="hljs-comment">// Allowed</span>
   digit := <span class="hljs-string">&#x27;7&#x27;</span>;   <span class="hljs-comment">// Allowed</span>
 
   upper := <span class="hljs-string">&#x27;g&#x27;</span>;   <span class="hljs-comment">// Not allowed</span>
   lower := <span class="hljs-string">&#x27;7&#x27;</span>;   <span class="hljs-comment">// Not allowed</span>
   digit := <span class="hljs-number">4</span>;     <span class="hljs-comment">// Not allowed</span>
 <span class="hljs-keyword">end</span>;
</div></code></pre>
<p>Subrange of enumerations:</p>
<pre><code class="language-pas"><div><span class="hljs-keyword">type</span>
    TDay = (Mon=<span class="hljs-number">1</span>, Tue, Wed, Thu, Fri, Sat, Sun);   <span class="hljs-comment">// Enumeration values</span>
    TWeekDays = Mon..Fri;                           <span class="hljs-comment">// Enumeration subranges</span>
    TWeekend  = Sat..Sun;
</div></code></pre>
<h3 id="153-sets">1.5.3. Sets</h3>
<pre><code class="language-pas"><div><span class="hljs-keyword">type</span>
   TDigits = <span class="hljs-keyword">set</span> <span class="hljs-keyword">of</span> <span class="hljs-string">&#x27;1&#x27;</span>..<span class="hljs-string">&#x27;9&#x27;</span>;       <span class="hljs-comment">// Set of numeric digit characters</span>
 <span class="hljs-keyword">var</span>
   digits : TDigits;                <span class="hljs-comment">// Set variable</span>
   myChar : char;
 <span class="hljs-keyword">begin</span>
   <span class="hljs-comment">// At the start, digits has all set values switched off</span>
   <span class="hljs-comment">// So let us switch some on. Notice how we can switch on single</span>
   <span class="hljs-comment">// values, and ranges, all in the one assignment:</span>
   digits := [<span class="hljs-string">&#x27;2&#x27;</span>, <span class="hljs-string">&#x27;4&#x27;</span>..<span class="hljs-string">&#x27;7&#x27;</span>];
 
   <span class="hljs-comment">// Now we can test to see what we have set on:</span>
   <span class="hljs-keyword">for</span> myChar := <span class="hljs-string">&#x27;1&#x27;</span> <span class="hljs-keyword">to</span> <span class="hljs-string">&#x27;9&#x27;</span> <span class="hljs-keyword">do</span>
     <span class="hljs-keyword">if</span> myChar <span class="hljs-keyword">In</span> digits
     <span class="hljs-keyword">then</span> ShowMessageFmt(<span class="hljs-string">&#x27;&#x27;&#x27;%s&#x27;&#x27; is in digits&#x27;</span>,[myChar])
     <span class="hljs-keyword">else</span> ShowMessageFmt(<span class="hljs-string">&#x27;&#x27;&#x27;%s&#x27;&#x27; is not in digits&#x27;</span>,[myChar])
 <span class="hljs-keyword">end</span>;
</div></code></pre>
<p>The <code>In</code> operator tests to see if a set contains a value.</p>
<p>The data shown is as follows:</p>
<pre><code><code><div>'1' is not in digits
'2' is in digits
'3' is not in digits
'4' is in digits
'5' is in digits
'6' is in digits
'7' is in digits
'8' is not in digits
'9' is not in digits
</div></code></code></pre>
<h4 id="1531-including-and-excluding-set-values">1.5.3.1. Including and excluding set values</h4>
<p><code>Include</code> <em>(switch on)</em> or <code>exclude</code> <em>(switch off)</em> individual values without affecting other values.</p>
<pre><code class="language-pas"><div><span class="hljs-keyword">type</span>
   <span class="hljs-comment">// We define a set by type - bytes have the range : 0 to 255</span>
   TNums = <span class="hljs-keyword">set</span> <span class="hljs-keyword">of</span> Byte;
 <span class="hljs-keyword">var</span>
   nums : TNums;
 <span class="hljs-keyword">begin</span>
   nums := [<span class="hljs-number">20</span>..<span class="hljs-number">50</span>];     <span class="hljs-comment">// Switch on a range of 31 values</span>
   Include(nums, <span class="hljs-number">12</span>);    <span class="hljs-comment">// Switch on an additional value : 12</span>
   Exclude(nums, <span class="hljs-number">35</span>);    <span class="hljs-comment">// Switch off a value : 35</span>
 <span class="hljs-keyword">end</span>;
</div></code></pre>
<p><code>nums</code> now has the following values set : <code>12 , 20..34 , 36..50</code></p>
<h4 id="1532-set-operators">1.5.3.2. Set operators</h4>
<table>
<thead>
<tr>
<th style="text-align:center">operator</th>
<th style="text-align:left">description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>+</code></td>
<td style="text-align:left">union of two sets</td>
</tr>
<tr>
<td style="text-align:center"><code>*</code></td>
<td style="text-align:left">intersection of two sets</td>
</tr>
<tr>
<td style="text-align:center"><code>-</code></td>
<td style="text-align:left">difference of two sets</td>
</tr>
<tr>
<td style="text-align:center"><code>=</code></td>
<td style="text-align:left">tests for identical sets</td>
</tr>
<tr>
<td style="text-align:center"><code>&lt;&gt;</code></td>
<td style="text-align:left">tests for non-identical sets</td>
</tr>
<tr>
<td style="text-align:center"><code>&gt;=</code></td>
<td style="text-align:left">is one set a subset of another</td>
</tr>
<tr>
<td style="text-align:center"><code>&lt;=</code></td>
<td style="text-align:left">is one set a superset of another</td>
</tr>
</tbody>
</table>
<pre><code class="language-pas"><div><span class="hljs-keyword">type</span>
   TNums = <span class="hljs-keyword">set</span> <span class="hljs-keyword">of</span> <span class="hljs-number">1</span>..<span class="hljs-number">9</span>;
 <span class="hljs-keyword">var</span>
   nums1, nums2, nums3, nums4, nums5, nums6 : TNums;
 <span class="hljs-keyword">begin</span>
   nums1 := [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>];
   nums2 := [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">4</span>];
   nums3 := [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>,<span class="hljs-number">7</span>,<span class="hljs-number">8</span>,<span class="hljs-number">9</span>];
 
   nums4 := nums1 + nums2;    <span class="hljs-comment">// nums4 now [1,2,3,4]</span>
   nums5 := nums1 * nums2;    <span class="hljs-comment">// nums5 now [1,2]</span>
   nums6 := nums1 - nums2;    <span class="hljs-comment">// nums6 now [3]</span>
 
   <span class="hljs-comment">// Test for equality</span>
   <span class="hljs-keyword">if</span> nums1 = nums2
   <span class="hljs-keyword">then</span> ShowMessage(<span class="hljs-string">&#x27;nums1 =  nums2&#x27;</span>)
   <span class="hljs-keyword">else</span> ShowMessage(<span class="hljs-string">&#x27;nums1 &lt;&gt; nums2&#x27;</span>);
 
   <span class="hljs-comment">// Test for inequality</span>
   <span class="hljs-keyword">if</span> nums1 &lt;&gt; nums3
   <span class="hljs-keyword">then</span> ShowMessage(<span class="hljs-string">&#x27;nums1 &lt;&gt; nums3&#x27;</span>)
   <span class="hljs-keyword">else</span> ShowMessage(<span class="hljs-string">&#x27;nums1 =  nums3&#x27;</span>);
 
   <span class="hljs-comment">// Is nums1 a subset of nums3?</span>
   <span class="hljs-keyword">if</span> nums1 &lt;= nums3
   <span class="hljs-keyword">then</span> ShowMessage(<span class="hljs-string">&#x27;nums1 is a subset of nums3&#x27;</span>)
   <span class="hljs-keyword">else</span> ShowMessage(<span class="hljs-string">&#x27;nums1 is not a subset of nums3&#x27;</span>);
 
   <span class="hljs-comment">// Is nums1 a superset of nums3?</span>
   <span class="hljs-keyword">if</span> nums1 &gt;= nums3
   <span class="hljs-keyword">then</span> ShowMessage(<span class="hljs-string">&#x27;nums1 is a superset of nums3&#x27;</span>)
   <span class="hljs-keyword">else</span> ShowMessage(<span class="hljs-string">&#x27;nums1 is not a superset of nums3&#x27;</span>);
 <span class="hljs-keyword">end</span>;
</div></code></pre>
<p><strong>Output</strong>:</p>
<pre><code><code><div>nums1 &lt;&gt; nums2
nums1 &lt;&gt; nums3
nums1 is a subset of nums3
nums1 is not a superset of nums3
</div></code></code></pre>
<h2 id="16-compound-data-types">1.6. Compound data types</h2>
<h3 id="161-arrays">1.6.1. Arrays</h3>
<pre><code class="language-pas"><div><span class="hljs-keyword">var</span>
   Suits : <span class="hljs-keyword">array</span>[<span class="hljs-number">1</span>..<span class="hljs-number">4</span>] <span class="hljs-keyword">of</span> <span class="hljs-keyword">String</span>;    <span class="hljs-comment">// A list of 4 playing card suit names</span>
 
 <span class="hljs-keyword">begin</span>
   Suits[<span class="hljs-number">1</span>] := <span class="hljs-string">&#x27;Hearts&#x27;</span>;    <span class="hljs-comment">// Assigning to array index 1</span>
   Suits[<span class="hljs-number">2</span>] := <span class="hljs-string">&#x27;Diamonds&#x27;</span>;  <span class="hljs-comment">// Assigning to array index 2</span>
   Suits[<span class="hljs-number">3</span>] := <span class="hljs-string">&#x27;Clubs&#x27;</span>;     <span class="hljs-comment">// Assigning to array index 3</span>
   Suits[<span class="hljs-number">4</span>] := <span class="hljs-string">&#x27;Spades&#x27;</span>;    <span class="hljs-comment">// Assigning to array index 4</span>
 <span class="hljs-keyword">end</span>;
</div></code></pre>
<p>The array defined above has indexes 1 to 4 (1..4). The two dots indicate a range.</p>
<h3 id="162-records">1.6.2. Records</h3>
<p><em>Like a <code>class</code> or a <code>struct</code>, but not because there are other data types for object oriented things</em></p>
<pre><code class="language-pas"><div><span class="hljs-keyword">type</span>
   TCustomer=<span class="hljs-keyword">Record</span>
     firstName : <span class="hljs-keyword">string</span>[<span class="hljs-number">20</span>];
     lastName  : <span class="hljs-keyword">string</span>[<span class="hljs-number">20</span>];
     age       : byte;
   <span class="hljs-keyword">end</span>;
</div></code></pre>
<pre><code class="language-pas"><div><span class="hljs-keyword">var</span>
  customer : TCustomer;            <span class="hljs-comment">// Our customer variable</span>
<span class="hljs-keyword">begin</span>
  customer.firstName := <span class="hljs-string">&#x27;Fred&#x27;</span>;    <span class="hljs-comment">// Assigning to the customer record</span>
  customer.lastName  := <span class="hljs-string">&#x27;Bloggs&#x27;</span>;
  customer.age       := <span class="hljs-number">55</span>;
<span class="hljs-keyword">end</span>;
</div></code></pre>
<p><strong>Output</strong>:</p>
<pre><code><code><div>customer.firstName is now set to 'Fred'
customer.lastName  is now set to 'Bloggs'
customer.age       is now set to 55
</div></code></code></pre>
<p>Or</p>
<pre><code class="language-pas"><div><span class="hljs-keyword">var</span> c : Card;

<span class="hljs-keyword">with</span> c <span class="hljs-keyword">do</span>
<span class="hljs-keyword">begin</span>
  cType := i;
  cNumber := j;
<span class="hljs-keyword">end</span>;
</div></code></pre>
<h1 id="2-operators">2. Operators</h1>
<h2 id="21-binary-arithmetic-operators">2.1. Binary Arithmetic Operators</h2>
<table>
<thead>
<tr>
<th style="text-align:center">Operator</th>
<th>Operation</th>
<th>Operand Types</th>
<th>Result Type</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>+</code></td>
<td>addition</td>
<td>integer, real</td>
<td>integer, real</td>
<td>X + Y</td>
</tr>
<tr>
<td style="text-align:center"><code>-</code></td>
<td>subtraction</td>
<td>integer, real</td>
<td>integer, real</td>
<td>Result -1</td>
</tr>
<tr>
<td style="text-align:center"><code>*</code></td>
<td>multiplication</td>
<td>integer, real</td>
<td>integer, real</td>
<td>P * InterestRate</td>
</tr>
<tr>
<td style="text-align:center"><code>/</code></td>
<td>real division</td>
<td>integer, real</td>
<td>real</td>
<td>X / 2</td>
</tr>
<tr>
<td style="text-align:center"><code>div</code></td>
<td>integer division</td>
<td>integer</td>
<td>integer</td>
<td>Total div UnitSize</td>
</tr>
<tr>
<td style="text-align:center"><code>mod</code></td>
<td>remainder</td>
<td>integer</td>
<td>integer</td>
<td>Y mod 6</td>
</tr>
</tbody>
</table>
<h2 id="22-unary-arithmetic-operators">2.2. Unary arithmetic operators:</h2>
<table>
<thead>
<tr>
<th style="text-align:center">Operator</th>
<th>Operation</th>
<th>Operand Types</th>
<th>Result Type</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>+</code></td>
<td>sign identity</td>
<td>integer, real</td>
<td>integer, real</td>
<td>+7</td>
</tr>
<tr>
<td style="text-align:center"><code>-</code></td>
<td>sign negation</td>
<td>integer, real</td>
<td>integer, real</td>
<td>-X</td>
</tr>
</tbody>
</table>
<p>The following rules apply to arithmetic operators:</p>
<ul>
<li>The value of <code>x / y</code> is of type <code>Extended</code>, regardless of the types of <code>x</code> and <code>y</code>. For other arithmetic operators, the result is of type <code>Extended</code> whenever at least one operand is a <code>real</code>, otherwise, the result is of type <code>Int64</code> when at least one operand is of type <code>Int64</code>, otherwise, the result is of type <code>Integer</code>. If an operand's type is a subrange of an integer type, it is treated as if it were of the integer type.</li>
<li>The value of <code>x div y</code> is the value of <code>x / y</code> rounded in the direction of zero to the nearest integer.</li>
<li>The <code>mod</code> operator returns the remainder obtained by dividing its operands. In other words,
<ul>
<li><code>x mod y = x - (x div y) * y</code></li>
</ul>
</li>
<li>A run-time error occurs when <code>y</code> is <strong>zero</strong> in an expression of the form
<ul>
<li><code>x / y</code></li>
<li><code>x div y</code></li>
<li><code>x mod y</code></li>
</ul>
</li>
</ul>
<h2 id="23-boolean-operators">2.3. Boolean Operators:</h2>
<table>
<thead>
<tr>
<th style="text-align:center">Operator</th>
<th>Operation</th>
<th>Operand Types</th>
<th>Result Type</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>not</code></td>
<td>negation</td>
<td>Boolean</td>
<td>Boolean</td>
<td>not (C in MySet)</td>
</tr>
<tr>
<td style="text-align:center"><code>and</code></td>
<td>conjunction</td>
<td>Boolean</td>
<td>Boolean</td>
<td>Done and (Total &gt;0)</td>
</tr>
<tr>
<td style="text-align:center"><code>or</code></td>
<td>disjunction</td>
<td>Boolean</td>
<td>Boolean</td>
<td>A or B</td>
</tr>
<tr>
<td style="text-align:center"><code>xor</code></td>
<td>exclusive disjunction</td>
<td>Boolean</td>
<td>Boolean</td>
<td>A xor B</td>
</tr>
</tbody>
</table>
<h2 id="24-logical-bitwise-operators">2.4. Logical (Bitwise) Operators:</h2>
<table>
<thead>
<tr>
<th style="text-align:center">Operator</th>
<th>Operation</th>
<th>Operand Types</th>
<th>Result Type</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>not</code></td>
<td>bitwise negation</td>
<td>integer</td>
<td>integer</td>
<td>not X</td>
</tr>
<tr>
<td style="text-align:center"><code>and</code></td>
<td>bitwise and</td>
<td>integer</td>
<td>integer</td>
<td>X and Y</td>
</tr>
<tr>
<td style="text-align:center"><code>or</code></td>
<td>bitwise or</td>
<td>integer</td>
<td>integer</td>
<td>X or Y</td>
</tr>
<tr>
<td style="text-align:center"><code>xor</code></td>
<td>bitwise xor</td>
<td>integer</td>
<td>integer</td>
<td>X xor Y</td>
</tr>
<tr>
<td style="text-align:center"><code>shl</code></td>
<td>bitwise shift left</td>
<td>integer</td>
<td>integer</td>
<td>X shl 2</td>
</tr>
<tr>
<td style="text-align:center"><code>shr</code></td>
<td>bitwise shift right</td>
<td>integer</td>
<td>integer</td>
<td>Y shr I</td>
</tr>
</tbody>
</table>
<p>The following rules apply to bitwise operators:</p>
<ul>
<li>The result of a <code>not</code> operation is of the same type as the operand.</li>
<li>If the operands of an <code>and</code>, <code>or</code>, or <code>xor</code> operation are both integers, the result is of the predefined integer type with the smallest range that includes all possible values of both types.</li>
<li>The operations <code>x shl y</code> and <code>x shr y</code> shift the value of x to the left or right by y bits, which (if x is an unsigned integer) is equivalent to multiplying or dividing x by 2^y; the result is of the same type as x. For example, if N stores the value 01101 (decimal 13), then N shl 1 returns 11010 (decimal 26). Note that the value of y is interpreted modulo the size of the type of x. Thus for example, if x is an integer, x shl 40 is interpreted as x shl 8 because an integer is 32 bits and 40 mod 32 is 8.</li>
</ul>
<h2 id="25-string-operators">2.5. String Operators:</h2>
<table>
<thead>
<tr>
<th style="text-align:center">Operator</th>
<th>Operation</th>
<th>Operand Types</th>
<th>Result Type</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>+</code></td>
<td>concatenation</td>
<td>string, packed string, character</td>
<td>string</td>
<td>S + '.'</td>
</tr>
</tbody>
</table>
<h2 id="26-relational-operators">2.6. Relational Operators:</h2>
<table>
<thead>
<tr>
<th style="text-align:center">Operator</th>
<th>Operation</th>
<th>Operand Types</th>
<th>Result Type</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>=</code></td>
<td>equality</td>
<td>simple, class, class reference, interface, string, packed string</td>
<td>Boolean</td>
<td>I = Max</td>
</tr>
<tr>
<td style="text-align:center"><code>&lt;&gt;</code></td>
<td>inequality</td>
<td>simple, class, class reference, interface, string, packed string</td>
<td>Boolean</td>
<td>X &lt;&gt; Y</td>
</tr>
<tr>
<td style="text-align:center"><code>&lt;</code></td>
<td>less-than</td>
<td>simple, string, packed string, PChar</td>
<td>Boolean</td>
<td>X &lt; Y</td>
</tr>
<tr>
<td style="text-align:center"><code>&gt;</code></td>
<td>greater-than</td>
<td>simple, string, packed string, PChar</td>
<td>Boolean</td>
<td>Len &gt; 0</td>
</tr>
<tr>
<td style="text-align:center"><code>&lt;=</code></td>
<td>less-than-or-equal-to</td>
<td>simple, string, packed string, PChar</td>
<td>Boolean</td>
<td>Cnt &lt;= I</td>
</tr>
<tr>
<td style="text-align:center"><code>&gt;=</code></td>
<td>greater-than-or-equal-to</td>
<td>simple, string, packed string, PChar</td>
<td>Boolean</td>
<td>I &gt;= 1</td>
</tr>
</tbody>
</table>
<h2 id="27-precedence-of-operators">2.7. Precedence of operators</h2>
<ol>
<li><code>@ not</code></li>
<li><code>* div mod and shl shr as</code></li>
<li><code>+ - or xor</code></li>
<li><code>= &lt;&gt; &lt; &gt; &lt;= &gt;= in is</code></li>
</ol>
<h1 id="3-programming-logic">3. Programming logic</h1>
<h2 id="31-if-then-else">3.1. If then else</h2>
<pre><code class="language-pas"><div><span class="hljs-keyword">var</span>
   number : Integer;
   text   : <span class="hljs-keyword">String</span>;
 <span class="hljs-keyword">begin</span>
   number := Sqr(<span class="hljs-number">17</span>);          <span class="hljs-comment">// Calculate the square of 17</span>
   <span class="hljs-keyword">if</span> number &gt; <span class="hljs-number">400</span>                  
   <span class="hljs-keyword">then</span> text := <span class="hljs-string">&#x27;17 squared &gt; 400&#x27;</span>    <span class="hljs-comment">// Action when if condition is true</span>
   <span class="hljs-keyword">else</span> text := <span class="hljs-string">&#x27;17 squared &lt;= 400&#x27;</span>;  <span class="hljs-comment">// Action when if condition is false</span>
 <span class="hljs-keyword">end</span>;
</div></code></pre>
<p><strong>Output</strong>:</p>
<pre><code><code><div>text is set to : '17 squared &lt;= 400'
</div></code></code></pre>
<p><strong>Multiple</strong>:</p>
<pre><code class="language-pas"><div><span class="hljs-keyword">if</span> (condition1) <span class="hljs-keyword">And</span> (condition2)   <span class="hljs-comment">// Both conditions must be satisfied</span>
   <span class="hljs-keyword">then</span>
     <span class="hljs-keyword">begin</span>
       statement1;
       statement2;
       ...
     <span class="hljs-keyword">end</span>              <span class="hljs-comment">// Notice no terminating &#x27;;&#x27; - still part of &#x27;if&#x27;</span>
   <span class="hljs-keyword">else</span>
     <span class="hljs-keyword">begin</span>
       statement3;
       statement4;
       ...
     <span class="hljs-keyword">end</span>;
</div></code></pre>
<p><strong>Nested</strong>:</p>
<pre><code class="language-pas"><div><span class="hljs-keyword">if</span> condition1
   <span class="hljs-keyword">then</span> statement1
   <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> condition2
        <span class="hljs-keyword">then</span> statement2
        <span class="hljs-keyword">else</span> statement3;
</div></code></pre>
<h2 id="32-case-statements">3.2. Case statements</h2>
<h3 id="321-a-simple-numerical-case-statement">3.2.1. A simple numerical case statement</h3>
<pre><code class="language-pas"><div><span class="hljs-keyword">var</span>
   i : Integer;
 <span class="hljs-keyword">begin</span>
   i := RandomRange(<span class="hljs-number">15</span>,<span class="hljs-number">20</span>);  <span class="hljs-comment">// Generate a random number from 15 to 20</span>
   <span class="hljs-keyword">Case</span> i <span class="hljs-keyword">of</span>
     <span class="hljs-number">15</span> : ShowMessage(<span class="hljs-string">&#x27;Random number was fifteen&#x27;</span>);
     <span class="hljs-number">16</span> : ShowMessage(<span class="hljs-string">&#x27;Random number was sixteen&#x27;</span>);
     <span class="hljs-number">17</span> : ShowMessage(<span class="hljs-string">&#x27;Random number was seventeen&#x27;</span>);
     <span class="hljs-number">18</span> : ShowMessage(<span class="hljs-string">&#x27;Random number was eighteen&#x27;</span>);
     <span class="hljs-number">19</span> : ShowMessage(<span class="hljs-string">&#x27;Random number was nineteen&#x27;</span>);
     <span class="hljs-number">20</span> : ShowMessage(<span class="hljs-string">&#x27;Random number was twenty&#x27;</span>);
   <span class="hljs-keyword">end</span>;
 <span class="hljs-keyword">end</span>;
</div></code></pre>
<p><strong>Output</strong>:</p>
<pre><code><code><div>Random number was fifteen
</div></code></code></pre>
<p>The <code>RandomRange</code> routine generates a random number between two given values. However, each time you run the program, it will always start with the same pseudo random value.</p>
<h3 id="322-using-the-otherwise-clause">3.2.2. Using the otherwise clause</h3>
<pre><code class="language-pas"><div><span class="hljs-keyword">var</span>
   i : Integer;
 <span class="hljs-keyword">begin</span>
   i := RandomRange(<span class="hljs-number">10</span>,<span class="hljs-number">20</span>);  <span class="hljs-comment">// Generate a random number from 10 to 20</span>
   <span class="hljs-keyword">Case</span> i <span class="hljs-keyword">of</span>
     <span class="hljs-number">15</span> : ShowMessage(<span class="hljs-string">&#x27;Random number was fifteen&#x27;</span>);
     <span class="hljs-number">16</span> : ShowMessage(<span class="hljs-string">&#x27;Random number was sixteen&#x27;</span>);
     <span class="hljs-number">17</span> : ShowMessage(<span class="hljs-string">&#x27;Random number was seventeen&#x27;</span>);
     <span class="hljs-number">18</span> : ShowMessage(<span class="hljs-string">&#x27;Random number was eighteen&#x27;</span>);
     <span class="hljs-number">19</span> : ShowMessage(<span class="hljs-string">&#x27;Random number was nineteen&#x27;</span>);
     <span class="hljs-number">20</span> : ShowMessage(<span class="hljs-string">&#x27;Random number was twenty&#x27;</span>);
   <span class="hljs-keyword">else</span>
     ShowMessageFmt(<span class="hljs-string">&#x27;Unexpected number : %d&#x27;</span>,[i]);
   <span class="hljs-keyword">end</span>;
 <span class="hljs-keyword">end</span>;
</div></code></pre>
<p><strong>Output</strong>:</p>
<pre><code><code><div>Unexpected number : 10
</div></code></code></pre>
<h3 id="323-using-enumeration-case-values">3.2.3. Using enumeration case values</h3>
<pre><code class="language-pas"><div><span class="hljs-keyword">type</span>
   TCar = (Nissan, Ford, Rover, Jaguar);    <span class="hljs-comment">// An enumeration type</span>
 <span class="hljs-keyword">var</span>     
   car : TCar;                              <span class="hljs-comment">// An enumeration variable</span>
 <span class="hljs-keyword">begin</span>
   car := Rover;                            <span class="hljs-comment">// Set this variable</span>
   <span class="hljs-keyword">case</span> car <span class="hljs-keyword">of</span>
     Nissan : ShowMessage(<span class="hljs-string">&#x27;We have a Nissan car&#x27;</span>);
     Ford   : ShowMessage(<span class="hljs-string">&#x27;We have a Ford car&#x27;</span>);
     Rover  : ShowMessage(<span class="hljs-string">&#x27;We have a Rover car&#x27;</span>);
     Jaguar : ShowMessage(<span class="hljs-string">&#x27;We have a Jaguar car&#x27;</span>);
   <span class="hljs-keyword">end</span>;
 <span class="hljs-keyword">end</span>;
</div></code></pre>
<p><strong>Output</strong>:</p>
<pre><code><code><div>We have a Rover car
</div></code></code></pre>
<h2 id="33-loops">3.3. Loops</h2>
<h3 id="331-for">3.3.1. For</h3>
<pre><code class="language-pas"><div><span class="hljs-keyword">var</span>
  count : Integer;
<span class="hljs-keyword">begin</span>
  <span class="hljs-keyword">For</span> count := <span class="hljs-number">1</span> <span class="hljs-keyword">to</span> <span class="hljs-number">5</span> <span class="hljs-keyword">do</span>
    ShowMessageFmt(<span class="hljs-string">&#x27;Count is now %d&#x27;</span>,[count]);
<span class="hljs-keyword">end</span>;
</div></code></pre>
<p><strong>Output</strong>:</p>
<pre><code><code><div>Count is now 1
Count is now 2
Count is now 3
Count is now 4
Count is now 5
</div></code></code></pre>
<pre><code class="language-pas"><div><span class="hljs-keyword">type</span>
   TWeekDay = (Monday=<span class="hljs-number">1</span>, Tuesday, Wednesday, Thursday, Friday);
<span class="hljs-keyword">var</span>
  weekday : TWeekDay;
  hours   : <span class="hljs-keyword">array</span>[TWeekDay] <span class="hljs-keyword">of</span> byte;
<span class="hljs-keyword">begin</span>
  <span class="hljs-comment">// Set up the hours every day to zero</span>
  <span class="hljs-keyword">for</span> weekDay := Monday <span class="hljs-keyword">to</span> Friday <span class="hljs-keyword">do</span>
    hours[weekDay] := <span class="hljs-number">0</span>;

  <span class="hljs-comment">// Add an hour of overtime to the working hours on Tuesday to Thursday</span>
  <span class="hljs-keyword">for</span> weekDay := Tuesday <span class="hljs-keyword">to</span> Thursday <span class="hljs-keyword">do</span>
    Inc(hours[weekDay]);
<span class="hljs-keyword">end</span>;
</div></code></pre>
<p><strong>Output</strong>:</p>
<pre><code><code><div>hours[Monday]    = 00
hours[Tuesday]   = 10
hours[Wednesday] = 10
hours[Thursday]  = 1
hours[Friday]    = 0
</div></code></code></pre>
<blockquote>
<p><code>Inc</code>: increment the hours</p>
</blockquote>
<pre><code class="language-pas"><div><span class="hljs-keyword">var</span>
  letter : Char;
<span class="hljs-keyword">begin</span>
  <span class="hljs-keyword">for</span> letter := <span class="hljs-string">&#x27;G&#x27;</span> <span class="hljs-keyword">downto</span> <span class="hljs-string">&#x27;A&#x27;</span> <span class="hljs-keyword">do</span>
    ShowMessage(<span class="hljs-string">&#x27;Letter = &#x27;</span>+letter)
<span class="hljs-keyword">end</span>;
</div></code></pre>
<p><strong>Output</strong>:</p>
<pre><code><code><div>Letter = G
Letter = F
Letter = E
Letter = D
Letter = C
Letter = B
Letter = A
</div></code></code></pre>
<h3 id="332-repeat">3.3.2. Repeat</h3>
<pre><code class="language-pas"><div><span class="hljs-keyword">var</span>
  <span class="hljs-keyword">exit</span> : Boolean;          <span class="hljs-comment">// Our exit condition flag</span>
  i : Integer;
<span class="hljs-keyword">begin</span>
  i := <span class="hljs-number">1</span>;
  <span class="hljs-keyword">exit</span> := False;           <span class="hljs-comment">// do not exit until we are ready</span>
  <span class="hljs-keyword">repeat</span>
    Inc(i);                <span class="hljs-comment">// Increment a count</span>
    <span class="hljs-keyword">if</span> Sqr(i) &gt; <span class="hljs-number">99</span>
    <span class="hljs-keyword">then</span> <span class="hljs-keyword">exit</span> := true;     <span class="hljs-comment">// Exit if the square of our number exceeds 99</span>
  <span class="hljs-keyword">until</span> <span class="hljs-keyword">exit</span>;              <span class="hljs-comment">// Shorthand for &#x27;until exit := true&#x27;</span>
<span class="hljs-keyword">end</span>;
</div></code></pre>
<p><strong>Output</strong>:</p>
<pre><code><code><div>Upon exit, i will be 10 (since Sqr(10) &gt; 99)
</div></code></code></pre>
<pre><code class="language-pas"><div><span class="hljs-keyword">var</span>
  i : Integer;
<span class="hljs-keyword">begin</span>
  i := <span class="hljs-number">1</span>;
  <span class="hljs-keyword">repeat</span>
    Inc(i);                <span class="hljs-comment">// Increment a count</span>
  <span class="hljs-keyword">until</span> (Sqr(i) &gt; <span class="hljs-number">99</span>) <span class="hljs-keyword">or</span> (Sqrt(i) &gt; <span class="hljs-number">2.5</span>);
<span class="hljs-keyword">end</span>;
</div></code></pre>
<p><strong>Output</strong>:</p>
<pre><code><code><div>Upon exit, i will be 7 (since Sqrt(7) &gt; 2.5)
</div></code></code></pre>
<h3 id="333-while">3.3.3. While</h3>
<pre><code class="language-pas"><div><span class="hljs-keyword">var</span>
  i : Integer;
<span class="hljs-keyword">begin</span>
  i := <span class="hljs-number">1</span>;
  <span class="hljs-keyword">while</span> (Sqr(i) &lt;= <span class="hljs-number">99</span>) <span class="hljs-keyword">and</span> (Sqrt(i) &lt;= <span class="hljs-number">2.5</span>) <span class="hljs-keyword">do</span>
    Inc(i);                <span class="hljs-comment">// Increment a count</span>
<span class="hljs-keyword">end</span>;
</div></code></pre>
<p><strong>Output</strong>:</p>
<pre><code><code><div>Upon exit, i will be 7 (since Sqrt(7) &gt; 2.5)
</div></code></code></pre>
<h2 id="34-subroutines">3.4. Subroutines</h2>
<h3 id="341-a-procedure-without-parameters">3.4.1. A procedure without parameters</h3>
<pre><code class="language-pas"><div><span class="hljs-function"><span class="hljs-keyword">procedure</span> <span class="hljs-title">ShowTime</span>;</span>                    <span class="hljs-comment">// A procedure with no parameters</span>
<span class="hljs-keyword">begin</span>
  <span class="hljs-comment">// Display the current date and time</span>
  ShowMessage(<span class="hljs-string">&#x27;Date and time is &#x27;</span>+DateTimeToStr(Now));
<span class="hljs-keyword">end</span>;

<span class="hljs-comment">// Let us call this procedure</span>
ShowTime;
</div></code></pre>
<p><strong>Output</strong>:</p>
<pre><code><code><div>Date and time is 12/12/2002 15:30:45
</div></code></code></pre>
<h3 id="342-a-procedure-with-parameters">3.4.2. A procedure with parameters</h3>
<pre><code class="language-pas"><div><span class="hljs-function"><span class="hljs-keyword">procedure</span> <span class="hljs-title">ShowTime</span><span class="hljs-params">(dateTime : TDateTime)</span>;</span>  <span class="hljs-comment">// With parameters</span>
<span class="hljs-keyword">begin</span>
  <span class="hljs-comment">// Display the date and time passed to the routine</span>
  ShowMessage(<span class="hljs-string">&#x27;Date and time is &#x27;</span>+DateTimeToStr(dateTime));
<span class="hljs-keyword">end</span>;

<span class="hljs-comment">// Let us call this procedure</span>
ShowTime(Yesterday);
</div></code></pre>
<p><strong>Output</strong>:</p>
<pre><code><code><div>Date and time is 11/12/2002
</div></code></code></pre>
<h3 id="343-a-function-without-parameters">3.4.3. A function without parameters</h3>
<pre><code class="language-pas"><div><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">RandomChar</span> :</span> char;
<span class="hljs-keyword">var</span>
  i : integer;
<span class="hljs-keyword">begin</span>
  <span class="hljs-comment">// Get a random number from 65 to 90</span>
  <span class="hljs-comment">// (These numbers equate to characters &#x27;A&#x27; to &#x27;Z&#x27;</span>
  i := RandomRange(<span class="hljs-number">65</span>, <span class="hljs-number">90</span>);
  
  <span class="hljs-comment">// Return this value as a char type in the return variable, Result</span>
  Result := Chr(i);
<span class="hljs-keyword">end</span>;

<span class="hljs-comment">// Let us call this function</span>
ShowMessage(<span class="hljs-string">&#x27;Char chosen is : &#x27;</span>+RandomChar);
</div></code></pre>
<p><strong>Output</strong>:</p>
<pre><code><code><div>Char chosen is : A
</div></code></code></pre>
<h3 id="344-a-function-with-parameters">3.4.4. A function with parameters</h3>
<pre><code class="language-pas"><div><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Average</span><span class="hljs-params">(a, b, c : Extended)</span> :</span> Extended;
<span class="hljs-keyword">begin</span>
  <span class="hljs-comment">// return the average of the 3 passed numbers</span>
  Result := Mean(a, b, c);
<span class="hljs-keyword">end</span>;

<span class="hljs-comment">// Let us call this function</span>
ShowMessageFmt(<span class="hljs-string">&#x27;Average of 2, 13 and 56 = %f&#x27;</span>,[Average(<span class="hljs-number">2</span>,<span class="hljs-number">13</span>,<span class="hljs-number">56</span>)]);
</div></code></pre>
<p><strong>Output</strong>:</p>
<pre><code><code><div>Average of 2, 13 and 56 = 23.67
</div></code></code></pre>
<hr>
<pre><code class="language-pas"><div><span class="hljs-comment">// Full Unit code.</span>
<span class="hljs-comment">// -----------------------------------------------------------</span>
<span class="hljs-comment">// You must store this code in a unit called Unit1 with a form</span>
<span class="hljs-comment">// called Form1 that has an OnCreate event called FormCreate.</span>

<span class="hljs-keyword">unit</span> Unit1;

<span class="hljs-keyword">interface</span>

<span class="hljs-keyword">uses</span>
  Forms, Dialogs;

<span class="hljs-keyword">type</span>
  <span class="hljs-title">TForm1</span> = <span class="hljs-keyword">class</span>(TForm)
    <span class="hljs-function"><span class="hljs-keyword">procedure</span> <span class="hljs-title">FormCreate</span><span class="hljs-params">(Sender: TObject)</span>;</span>
  <span class="hljs-keyword">end</span>;

<span class="hljs-keyword">var</span>
  Form1: TForm1;

<span class="hljs-keyword">implementation</span>
<span class="hljs-meta">{$R *.dfm}</span> <span class="hljs-comment">// Include form definitions</span>

<span class="hljs-comment">// A small procedure</span>
<span class="hljs-function"><span class="hljs-keyword">procedure</span> <span class="hljs-title">InLineProc</span>;</span>
<span class="hljs-keyword">begin</span>
  ShowMessage(<span class="hljs-string">&#x27;Hello World&#x27;</span>);
<span class="hljs-keyword">end</span>;

<span class="hljs-function"><span class="hljs-keyword">procedure</span> <span class="hljs-title">TForm1</span>.<span class="hljs-title">FormCreate</span><span class="hljs-params">(Sender: TObject)</span>;</span>
<span class="hljs-keyword">begin</span>
  <span class="hljs-comment">// Call our little in line procedure</span>
  InLineProc;
<span class="hljs-keyword">end</span>;

<span class="hljs-keyword">end</span>.
</div></code></pre>
<p>The <code>InLineProc</code> we have defined above is literally that - an in-line subroutine. It must be defined before it is called.</p>
<p>The <code>TForm1.OnCreate</code> procedure is quite different. The <code>TForm1</code> qualifier gives a clue. This procedure, along with out InLineProc procedure, is defined in what is called the Implementation section of the Unit. Looking earlier in the code, you will see a one line declaration of OnCreate in the Interface part of the Unit. It is part of the class definition for the form <em>(<code>TForm1</code>)</em> that the Unit and program use as the main screen.</p>
<hr>
<pre><code class="language-pas"><div><span class="hljs-function"><span class="hljs-keyword">procedure</span> <span class="hljs-title">DoIt</span><span class="hljs-params">(A : Integer)</span>;</span>
<span class="hljs-keyword">begin</span>
  A := A * <span class="hljs-number">2</span>;
  ShowMessageFmt(<span class="hljs-string">&#x27;A in the procedure  = %d&#x27;</span>,[A]);
<span class="hljs-keyword">end</span>;

<span class="hljs-function"><span class="hljs-keyword">procedure</span> <span class="hljs-title">TForm1</span>.<span class="hljs-title">FormCreate</span><span class="hljs-params">(Sender: TObject)</span>;</span>
<span class="hljs-keyword">var</span>
  A : Integer;
<span class="hljs-keyword">begin</span>
  A := <span class="hljs-number">22</span>;
  ShowMessageFmt(<span class="hljs-string">&#x27;A in program before call = %d&#x27;</span>,[A]);
  <span class="hljs-comment">// Call the procedure</span>
  DoIt(A);
  ShowMessageFmt(<span class="hljs-string">&#x27;A in program now = %d&#x27;</span>,[A]);
<span class="hljs-keyword">end</span>;
</div></code></pre>
<p><strong>Output</strong>:</p>
<pre><code><code><div>A in program before call = 22
A in the procedure = 44
A in program now = 22
</div></code></code></pre>
<h3 id="345-passing-data-by-reference">3.4.5. Passing data by reference</h3>
<pre><code class="language-pas"><div><span class="hljs-function"><span class="hljs-keyword">procedure</span> <span class="hljs-title">DoIt</span><span class="hljs-params">(<span class="hljs-keyword">Var</span> A : Integer)</span>;</span>
<span class="hljs-keyword">begin</span>
  A := A * <span class="hljs-number">2</span>;
  ShowMessageFmt(<span class="hljs-string">&#x27;A in the procedure  = %d&#x27;</span>,[A]);
<span class="hljs-keyword">end</span>;

<span class="hljs-function"><span class="hljs-keyword">procedure</span> <span class="hljs-title">TForm1</span>.<span class="hljs-title">FormCreate</span><span class="hljs-params">(Sender: TObject)</span>;</span>
<span class="hljs-keyword">var</span>
  A : Integer;
<span class="hljs-keyword">begin</span>
  A := <span class="hljs-number">22</span>;
  ShowMessageFmt(<span class="hljs-string">&#x27;A in program before call = %d&#x27;</span>,[A]);
  <span class="hljs-comment">// Call the procedure</span>
  DoIt(A);
  ShowMessageFmt(<span class="hljs-string">&#x27;A in program now = %d&#x27;</span>,[A]);
<span class="hljs-keyword">end</span>;
</div></code></pre>
<p><strong>Output</strong>:</p>
<pre><code><code><div>A in program before call = 22
A in the procedure = 44
A in program now = 44
</div></code></code></pre>
<h3 id="346-output-only-parameters">3.4.6. Output only parameters</h3>
<pre><code class="language-pas"><div><span class="hljs-function"><span class="hljs-keyword">procedure</span> <span class="hljs-title">DoIt</span><span class="hljs-params">(<span class="hljs-keyword">Out</span> A : Integer)</span>;</span>
<span class="hljs-keyword">begin</span>
  A := <span class="hljs-number">123</span>;
  ShowMessageFmt(<span class="hljs-string">&#x27;A in the procedure  = %d&#x27;</span>,[A]);
<span class="hljs-keyword">end</span>;

<span class="hljs-function"><span class="hljs-keyword">procedure</span> <span class="hljs-title">TForm1</span>.<span class="hljs-title">FormCreate</span><span class="hljs-params">(Sender: TObject)</span>;</span>
<span class="hljs-keyword">var</span>
  A : Integer;
<span class="hljs-keyword">begin</span>
  ShowMessage(<span class="hljs-string">&#x27;A before the call is unknown&#x27;</span>);
  <span class="hljs-comment">// Call the procedure</span>
  DoIt(A);
  ShowMessageFmt(<span class="hljs-string">&#x27;A in program now = %d&#x27;</span>,[A]);
<span class="hljs-keyword">end</span>;
</div></code></pre>
<p><strong>Output</strong>:</p>
<pre><code><code><div>A before the call is unknown
A in the procedure = 123
A in program now = 123
</div></code></code></pre>
<h3 id="347-constant-value-parameters">3.4.7. Constant value parameters</h3>
<pre><code class="language-pas"><div><span class="hljs-function"><span class="hljs-keyword">procedure</span> <span class="hljs-title">DoIt</span><span class="hljs-params">(<span class="hljs-keyword">Const</span> A : Integer; <span class="hljs-keyword">Out</span> B : Integer)</span>;</span>
<span class="hljs-keyword">begin</span>
  B := A * <span class="hljs-number">2</span>;
<span class="hljs-keyword">end</span>;

<span class="hljs-function"><span class="hljs-keyword">procedure</span> <span class="hljs-title">TForm1</span>.<span class="hljs-title">FormCreate</span><span class="hljs-params">(Sender: TObject)</span>;</span>
<span class="hljs-keyword">var</span>
  A, B : Integer;
<span class="hljs-keyword">begin</span>
  A := <span class="hljs-number">22</span>;
  <span class="hljs-comment">// Call the procedure</span>
  DoIt(A, B);
  ShowMessageFmt(<span class="hljs-string">&#x27;B has been set to = %d&#x27;</span>,[B]);
<span class="hljs-keyword">end</span>;
</div></code></pre>
<p><strong>Output</strong>:</p>
<pre><code><code><div>B has been set to 44
</div></code></code></pre>
<h3 id="348-same-routine-different-parameters">3.4.8. Same routine, different parameters</h3>
<pre><code class="language-pas"><div><span class="hljs-function"><span class="hljs-keyword">procedure</span> <span class="hljs-title">DoIt</span>;</span> <span class="hljs-keyword">overload</span>;
<span class="hljs-keyword">begin</span>
  ShowMessage(<span class="hljs-string">&#x27;DoIt with no parameters called&#x27;</span>);
<span class="hljs-keyword">end</span>;

<span class="hljs-function"><span class="hljs-keyword">procedure</span> <span class="hljs-title">DoIt</span><span class="hljs-params">(msg : <span class="hljs-keyword">String</span>)</span>;</span> <span class="hljs-keyword">overload</span>;
<span class="hljs-keyword">begin</span>
  ShowMessage(<span class="hljs-string">&#x27;DoIt called with parameter : &#x27;</span>+msg);
<span class="hljs-keyword">end</span>;

<span class="hljs-function"><span class="hljs-keyword">procedure</span> <span class="hljs-title">TForm1</span>.<span class="hljs-title">FormCreate</span><span class="hljs-params">(Sender: TObject)</span>;</span>
<span class="hljs-keyword">begin</span>
  <span class="hljs-comment">// Call the procedure using no parameters</span>
  DoIt;
  <span class="hljs-comment">// Now call the procedure using one parameter</span>
  DoIt(<span class="hljs-string">&#x27;Hi there&#x27;</span>);
<span class="hljs-keyword">end</span>;
</div></code></pre>
<p><strong>Output</strong>:</p>
<pre><code><code><div>DoIt with no parameters called
DoIt called with parameter : Hi There
</div></code></code></pre>
<h1 id="4-exception-handling">4. Exception handling</h1>
<h2 id="41-try-except">4.1. Try, except</h2>
<pre><code class="language-pas"><div><span class="hljs-keyword">begin</span>
  <span class="hljs-keyword">Try</span>
    ...
    The code we want <span class="hljs-keyword">to</span> execute
    ...
  <span class="hljs-keyword">Except</span>
    ...
    This code gets executed <span class="hljs-keyword">if</span> an exception occurs <span class="hljs-keyword">in</span> the above block
    ...
  <span class="hljs-keyword">end</span>;
<span class="hljs-keyword">end</span>;
</div></code></pre>
<pre><code class="language-pas"><div><span class="hljs-keyword">var</span>
  number1, number0 : Integer;
<span class="hljs-keyword">begin</span>
  <span class="hljs-keyword">try</span>
    number0 := <span class="hljs-number">0</span>;
    number1 := <span class="hljs-number">1</span>;
    number1 := number1 <span class="hljs-keyword">div</span> number0;
    ShowMessage(<span class="hljs-string">&#x27;1 / 0 = &#x27;</span>+IntToStr(number1));
  <span class="hljs-keyword">except</span>
    <span class="hljs-keyword">on</span> E : Exception <span class="hljs-keyword">do</span>
    <span class="hljs-keyword">begin</span>
      ShowMessage(<span class="hljs-string">&#x27;Exception class name = &#x27;</span>+E.ClassName);
      ShowMessage(<span class="hljs-string">&#x27;Exception message = &#x27;</span>+E.<span class="hljs-keyword">Message</span>);
    <span class="hljs-keyword">end</span>;
  <span class="hljs-keyword">end</span>;
<span class="hljs-keyword">end</span>;
</div></code></pre>
<pre><code class="language-pas"><div><span class="hljs-keyword">except</span>
    <span class="hljs-comment">// IO error</span>
    <span class="hljs-keyword">On</span> E : EInOutError <span class="hljs-keyword">do</span>
      ShowMessage(<span class="hljs-string">&#x27;IO error : &#x27;</span>+E.<span class="hljs-keyword">Message</span>);
    <span class="hljs-comment">// Dibision by zero</span>
    <span class="hljs-keyword">On</span> E : EDivByZero <span class="hljs-keyword">do</span>
      ShowMessage(<span class="hljs-string">&#x27;Div by zero error : &#x27;</span>+E.<span class="hljs-keyword">Message</span>);
    <span class="hljs-comment">// Catch other errors</span>
    <span class="hljs-keyword">else</span>
      ShowMessage(<span class="hljs-string">&#x27;Unknown error&#x27;</span>);
  <span class="hljs-keyword">end</span>;
</div></code></pre>
<h2 id="42-raising-exceptions">4.2. Raising exceptions</h2>
<table>
<thead>
<tr>
<th>exception name</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Exception</td>
<td>Base class</td>
</tr>
<tr>
<td>EAbort</td>
<td>Abort without dialog</td>
</tr>
<tr>
<td>EAbstractError</td>
<td>Abstract method error</td>
</tr>
<tr>
<td>AssertionFailed</td>
<td>Assert call failed</td>
</tr>
<tr>
<td>EBitsError</td>
<td>Boolean array error</td>
</tr>
<tr>
<td>ECommonCalendarError</td>
<td>Calendar calc error</td>
</tr>
<tr>
<td>EDateTimeError</td>
<td>DateTime calc error</td>
</tr>
<tr>
<td>EMonthCalError</td>
<td>Month calc error</td>
</tr>
<tr>
<td>EConversionError</td>
<td>Raised by Convert</td>
</tr>
<tr>
<td>EConvertError</td>
<td>Object convert error</td>
</tr>
<tr>
<td>EDatabaseError</td>
<td>Database error</td>
</tr>
<tr>
<td>EExternal</td>
<td>Hardware/Windows error</td>
</tr>
<tr>
<td>EAccessViolation</td>
<td>Access violation</td>
</tr>
<tr>
<td>EControlC</td>
<td>User abort occured</td>
</tr>
<tr>
<td>EExternalException</td>
<td>Other Internal error</td>
</tr>
<tr>
<td>EIntError</td>
<td>Integer calc error</td>
</tr>
<tr>
<td>EDivByZero</td>
<td>Integer Divide by zero</td>
</tr>
<tr>
<td>EIntOverflow</td>
<td>Integer overflow</td>
</tr>
<tr>
<td>ERangeError</td>
<td>Out of value range</td>
</tr>
<tr>
<td>EMathError</td>
<td>Floating point error</td>
</tr>
<tr>
<td>EInvalidArgument</td>
<td>Bad argument value</td>
</tr>
<tr>
<td>EInvalidOp</td>
<td>Inappropriate operation</td>
</tr>
<tr>
<td>EOverflow</td>
<td>Value too large</td>
</tr>
<tr>
<td>EUnderflow</td>
<td>Value too small</td>
</tr>
<tr>
<td>EZeroDivide</td>
<td>Floating Divide by zero</td>
</tr>
<tr>
<td>EStackOverflow</td>
<td>Severe Delphi problem</td>
</tr>
<tr>
<td>EHeapException</td>
<td>Dynamic memory problem</td>
</tr>
<tr>
<td>EInvalidPointer</td>
<td>Bad memory pointer</td>
</tr>
<tr>
<td>EOutOfMemory</td>
<td>Cannot allocate memory</td>
</tr>
<tr>
<td>EInOutError</td>
<td>IO error</td>
</tr>
<tr>
<td>EInvalidCast</td>
<td>Object casting error</td>
</tr>
<tr>
<td>EInvalidOperation</td>
<td>Bad component op</td>
</tr>
<tr>
<td>EMenuError</td>
<td>Menu item error</td>
</tr>
<tr>
<td>EOSError</td>
<td>Operating system error</td>
</tr>
<tr>
<td>EParserError</td>
<td>Parsing error</td>
</tr>
<tr>
<td>EPrinter</td>
<td>Printer error</td>
</tr>
<tr>
<td>EPropertyError</td>
<td>Class property error#</td>
</tr>
<tr>
<td>EPropReadOnly</td>
<td>Invalid property access</td>
</tr>
<tr>
<td>EPropWriteOnly</td>
<td>Invalid property access</td>
</tr>
<tr>
<td>EThread</td>
<td>Thread error</td>
</tr>
<tr>
<td>EVariantError</td>
<td>Variant problem</td>
</tr>
</tbody>
</table>
<h1 id="5-dates-and-times">5. Dates and times</h1>
<h2 id="51-tdatetime">5.1. TDateTime</h2>
<p>Date and time processing depends on the <code>TDateTime</code> variable.</p>
<p>It is used to hold a date and time combination. It is also used to hold just date or time values - the time and date value is ignored respectively.</p>
<p><code>TDateTime</code> is defined in the <code>System</code> unit. Date constants and routines are defined in <code>SysUtils</code> and <code>DateUtils</code> units.</p>
<pre><code class="language-pas"><div><span class="hljs-keyword">var</span>
  date1, date2, date3 : TDateTime;       <span class="hljs-comment">// TDateTime variables</span>
<span class="hljs-keyword">begin</span>
  date1 := Yesterday;      <span class="hljs-comment">// Set to the start of yesterday</span>
  date2 := Date;           <span class="hljs-comment">// Set to the start of the current day</span>
  date3 := Tomorrow;       <span class="hljs-comment">// Set to the start of tomorrow</span>
  date4 := Now;            <span class="hljs-comment">// Set to the current day and time</span>
<span class="hljs-keyword">end</span>;
</div></code></pre>
<p><strong>Output</strong>:</p>
<pre><code><code><div>date1 is set to something like 12/12/2002 00:00:00
date2 is set to something like 13/12/2002 00:00:00
date3 is set to something like 14/12/2002 00:00:00
date4 is set to something like 13/12/2002 08:15:45
</div></code></code></pre>
<h2 id="52-short-and-long-month-names">5.2. Short and long month names</h2>
<pre><code class="language-pas"><div><span class="hljs-keyword">var</span>
  month : Integer;
<span class="hljs-keyword">begin</span>
  <span class="hljs-keyword">for</span> month := <span class="hljs-number">1</span> <span class="hljs-keyword">to</span> <span class="hljs-number">12</span> <span class="hljs-keyword">do</span>    <span class="hljs-comment">// Display the short and long month names</span>
  <span class="hljs-keyword">begin</span>
    ShowMessage(ShortMonthNames[month]);
    ShowMessage(LongMonthNames[month]);
  <span class="hljs-keyword">end</span>;
<span class="hljs-keyword">end</span>;
</div></code></pre>
<p><strong>Output</strong>:</p>
<pre><code><code><div>Jan
January
Feb
February
Mar
March
Apr
April
May
May
Jun
June
Jul
July
Aug
August
Sep
September
Oct
October
Nov
November
Dec
December
</div></code></code></pre>
<h2 id="53-short-and-long-day-names">5.3. Short and long day names</h2>
<pre><code class="language-pas"><div><span class="hljs-keyword">var</span>
  day : Integer;
<span class="hljs-keyword">begin</span>
  <span class="hljs-keyword">for</span> day := <span class="hljs-number">1</span> <span class="hljs-keyword">to</span> <span class="hljs-number">12</span> <span class="hljs-keyword">do</span>    <span class="hljs-comment">// Display the short and long day names</span>
  <span class="hljs-keyword">begin</span>
    ShowMessage(ShortDayNames[day]);
    ShowMessage(LongDayNames[day]);
  <span class="hljs-keyword">end</span>;
<span class="hljs-keyword">end</span>;
</div></code></pre>
<p><strong>Output</strong>:</p>
<pre><code><code><div>Sun
Sunday
Mon
Monday
Tue
Tuesday
Wed
Wednesday
Thu
Thursday
Fri
Friday
Sat
Saturday
</div></code></code></pre>
<h2 id="54-date-and-time-calculations">5.4. Date and time calculations</h2>
<pre><code class="language-pas"><div>DayOfTheMonth <span class="hljs-comment">// Gives the day of month index for a TDateTime value</span>
DaysBetween   <span class="hljs-comment">// Gives the whole number of days between 2 dates</span>
DaysInAMonth  <span class="hljs-comment">// Gives the number of days in a month</span>
DaysInAYear   <span class="hljs-comment">// Gives the number of days in a year</span>
DecodeDate    <span class="hljs-comment">// Extracts the year, month, day values from a TDateTime var.</span>
EncodeDate    <span class="hljs-comment">// Build a TDateTime value from year, month and day values</span>
IncDay        <span class="hljs-comment">// Increments a TDateTime variable by + or - number of days</span>
IsLeapYear    <span class="hljs-comment">// Returns true if a given calendar year is a leap year</span>
MinsPerDay    <span class="hljs-comment">// Gives the number of minutes in a day </span>
</div></code></pre>
<h2 id="55-displaying-date-and-time-values">5.5. Displaying date and time values</h2>
<h3 id="551-displaying-date-and-time-values">5.5.1. Displaying date and time values</h3>
<pre><code class="language-pas"><div><span class="hljs-keyword">var</span>
  myDate : TDateTime;

<span class="hljs-keyword">begin</span>
  <span class="hljs-comment">// Set up our TDateTime variable with a full date and time :</span>
  <span class="hljs-comment">// 09/02/2000 at 05:06:07.008 (.008 milli-seconds)</span>
  myDate := EncodeDateTime(<span class="hljs-number">2000</span>, <span class="hljs-number">2</span>, <span class="hljs-number">9</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>);

  <span class="hljs-comment">// Date only - numeric values with no leading zeroes (except year)</span>
  ShowMessage(<span class="hljs-string">&#x27;              d/m/y = &#x27;</span>+
              FormatDateTime(<span class="hljs-string">&#x27;d/m/y&#x27;</span>, myDate));

  <span class="hljs-comment">// Date only - numeric values with leading zeroes</span>
  ShowMessage(<span class="hljs-string">&#x27;           dd/mm/yy = &#x27;</span>+
              FormatDateTime(<span class="hljs-string">&#x27;dd/mm/yy&#x27;</span>, myDate));

  <span class="hljs-comment">// Use short names for the day, month, and add freeform text (&#x27;of&#x27;)</span>
  ShowMessage(<span class="hljs-string">&#x27;  ddd d of mmm yyyy = &#x27;</span>+
              FormatDateTime(<span class="hljs-string">&#x27;ddd d of mmm yyyy&#x27;</span>, myDate));

  <span class="hljs-comment">// Use long names for the day and month</span>
  ShowMessage(<span class="hljs-string">&#x27;dddd d of mmmm yyyy = &#x27;</span>+
              FormatDateTime(<span class="hljs-string">&#x27;dddd d of mmmm yyyy&#x27;</span>, myDate));

  <span class="hljs-comment">// Use the ShortDateFormat settings only</span>
  ShowMessage(<span class="hljs-string">&#x27;              ddddd = &#x27;</span>+
              FormatDateTime(<span class="hljs-string">&#x27;ddddd&#x27;</span>, myDate));

  <span class="hljs-comment">// Use the LongDateFormat settings only</span>
  ShowMessage(<span class="hljs-string">&#x27;             dddddd = &#x27;</span>+
              FormatDateTime(<span class="hljs-string">&#x27;dddddd&#x27;</span>, myDate));

  ShowMessage(<span class="hljs-string">&#x27;&#x27;</span>);

  <span class="hljs-comment">// Time only - numeric values with no leading zeroes</span>
  ShowMessage(<span class="hljs-string">&#x27;            h:n:s.z = &#x27;</span>+
              FormatDateTime(<span class="hljs-string">&#x27;h:n:s.z&#x27;</span>, myDate));

  <span class="hljs-comment">// Time only - numeric values with leading zeroes</span>
  ShowMessage(<span class="hljs-string">&#x27;       hh:nn:ss.zzz = &#x27;</span>+
              FormatDateTime(<span class="hljs-string">&#x27;hh:nn:ss.zzz&#x27;</span>, myDate));

  <span class="hljs-comment">// Use the ShortTimeFormat settings only</span>
  ShowMessage(<span class="hljs-string">&#x27;                  t = &#x27;</span>+FormatDateTime(<span class="hljs-string">&#x27;t&#x27;</span>, myDate));

  <span class="hljs-comment">// Use the LongTimeFormat settings only</span>
  ShowMessage(<span class="hljs-string">&#x27;                 tt = &#x27;</span>+FormatDateTime(<span class="hljs-string">&#x27;tt&#x27;</span>, myDate));

  <span class="hljs-comment">// Use the ShortDateFormat + LongTimeFormat settings</span>
  ShowMessage(<span class="hljs-string">&#x27;                  c = &#x27;</span>+FormatDateTime(<span class="hljs-string">&#x27;c&#x27;</span>, myDate));
<span class="hljs-keyword">end</span>;
</div></code></pre>
<p><strong>Output</strong>:</p>
<pre><code><code><div>              d/m/y = 9/2/00
          dd/mm/yy = 09/02/00
  ddd d of mmm yyyy = Wed 9 of Feb 2000
dddd d of mmmm yyyy = Wednesday 9 of February 2000
              ddddd = 09/02/2000
            dddddd = 09 February 2000
                  c = 09/02/2000 05:06:07

            h:n:s.z = 5:6:7.008
      hh:nn:ss.zzz = 05:06:07.008
                  t = 05:06
                tt = 05:06:07
                  c = 09/02/2000 05:06:07
</div></code></code></pre>
<h3 id="552-formatting-control-variables">5.5.2. Formatting control variables</h3>
<pre><code class="language-pas"><div>DateSeparator              = /
TimeSeparator              = :
ShortDateFormat            = dd/mm/yyyy
LongDateFormat             = dd mmm yyyy
TimeAMString               = AM
TimePMString               = PM
ShortTimeFormat            = hh:mm
LongTimeFormat             = hh:mm:ss
ShortMonthNames            = Jan Feb ...
LongMonthNames             = January, February ...
ShortDayNames              = Sun, Mon ...
LongDayNames               = Sunday, Monday ...
TwoDigitYearCenturyWindow  = <span class="hljs-number">50</span> 
</div></code></pre>
<h1 id="6-files">6. Files</h1>
<h2 id="61-accessing-files">6.1. Accessing files</h2>
<p>First, we must get a <strong>handle</strong> for a named file:</p>
<pre><code class="language-pas"><div><span class="hljs-keyword">var</span>
  myFile : TextFile;

<span class="hljs-keyword">begin</span>
  AssignFile(myFile, <span class="hljs-string">&#x27;Test.txt&#x27;</span>);
</div></code></pre>
<p>Here we are getting a <strong>handle</strong> to a text file, designated by the <code>TextFile</code> type (binary files are of type <code>File</code>). We ask Delphi to assign a file handle for a file called <code>'Test.txt'</code> which will be assumed to be in the current directory <em>(as given by the GetCurrentDir routine)</em>.</p>
<pre><code class="language-pas"><div>`ReWrite` Opens a <span class="hljs-keyword">file</span> <span class="hljs-keyword">as</span> new - discards existing contents <span class="hljs-keyword">if</span> <span class="hljs-keyword">file</span> exists
`Reset` Opens a <span class="hljs-keyword">file</span> <span class="hljs-keyword">for</span> <span class="hljs-keyword">read</span> <span class="hljs-keyword">and</span> <span class="hljs-keyword">write</span> access
`Append` Opens a <span class="hljs-keyword">file</span> <span class="hljs-keyword">for</span> appending <span class="hljs-keyword">to</span> the <span class="hljs-keyword">end</span> (such <span class="hljs-keyword">as</span> a log <span class="hljs-keyword">file</span>)
</div></code></pre>
<p>When we have finished, we must close the file:</p>
<pre><code class="language-pas"><div>CloseFile(myFile);
</div></code></pre>
<h2 id="62-reading-and-writing-to-text-files">6.2. Reading and writing to text files</h2>
<pre><code class="language-pas"><div><span class="hljs-keyword">var</span>
  myFile : TextFile;
  text   : <span class="hljs-keyword">string</span>;

<span class="hljs-keyword">begin</span>
  <span class="hljs-comment">// Try to open the Test.txt file for writing to</span>
  AssignFile(myFile, <span class="hljs-string">&#x27;Test.txt&#x27;</span>);
  ReWrite(myFile);

  <span class="hljs-comment">// Write a couple of well known words to this file</span>
  WriteLn(myFile, <span class="hljs-string">&#x27;Hello&#x27;</span>);
  WriteLn(myFile, <span class="hljs-string">&#x27;World&#x27;</span>);

  <span class="hljs-comment">// Close the file</span>
  CloseFile(myFile);

  <span class="hljs-comment">// Reopen the file for reading</span>
  Reset(myFile);

  <span class="hljs-comment">// Display the file contents</span>
  <span class="hljs-keyword">while</span> <span class="hljs-keyword">not</span> Eof(myFile) <span class="hljs-keyword">do</span>
  <span class="hljs-keyword">begin</span>
    ReadLn(myFile, text);
    ShowMessage(text);
  <span class="hljs-keyword">end</span>;

  <span class="hljs-comment">// Close the file for the last time</span>
  CloseFile(myFile);
<span class="hljs-keyword">end</span>;
</div></code></pre>
<p><strong>Output</strong>:</p>
<pre><code><code><div>Hello
World
</div></code></code></pre>
<p>If we replaced the <code>ReWrite</code> routine with <code>Append</code>, and rerun the code, the existing file would then contain:</p>
<pre><code><code><div>Hello
World
Hello
World
</div></code></code></pre>
<pre><code class="language-pas"><div><span class="hljs-keyword">var</span>
  myFile : TextFile;
  text   : <span class="hljs-keyword">string</span>;
  i      : Integer;

<span class="hljs-keyword">begin</span>
  <span class="hljs-comment">// Try to open the Test.txt file for writing to</span>
  AssignFile(myFile, <span class="hljs-string">&#x27;Test.txt&#x27;</span>);
  ReWrite(myFile);

  <span class="hljs-comment">// Write a couple of well known words to this file</span>
  <span class="hljs-keyword">Write</span>(myFile, <span class="hljs-string">&#x27;Hello &#x27;</span>);
  <span class="hljs-keyword">Write</span>(myFile, <span class="hljs-string">&#x27;World&#x27;</span>);

  <span class="hljs-comment">// Terminate this line</span>
  WriteLn(myFile);

  <span class="hljs-comment">// Write some numbers to the file as a single line</span>
  <span class="hljs-keyword">for</span> i := <span class="hljs-number">2</span> <span class="hljs-keyword">to</span> <span class="hljs-number">4</span> <span class="hljs-keyword">do</span>
    <span class="hljs-keyword">Write</span>(myFile, i/<span class="hljs-number">2</span>, <span class="hljs-string">&#x27;  &#x27;</span>);

  <span class="hljs-comment">// Terminate this line</span>
  WriteLn(myFile);

  <span class="hljs-comment">// repeat the above, but with number formatting</span>
  <span class="hljs-keyword">for</span> i := <span class="hljs-number">2</span> <span class="hljs-keyword">to</span> <span class="hljs-number">4</span> <span class="hljs-keyword">do</span>
    <span class="hljs-keyword">Write</span>(myFile, i/<span class="hljs-number">2</span>:<span class="hljs-number">5</span>:<span class="hljs-number">1</span>);

  <span class="hljs-comment">// Terminate this line</span>
  WriteLn(myFile);

  <span class="hljs-comment">// Close the file</span>
  CloseFile(myFile);

  <span class="hljs-comment">// Reopen the file for reading only</span>
  Reset(myFile);

  <span class="hljs-comment">// Display the file contents</span>
  <span class="hljs-keyword">while</span> <span class="hljs-keyword">not</span> Eof(myFile) <span class="hljs-keyword">do</span>
  <span class="hljs-keyword">begin</span>
    ReadLn(myFile, text);
    ShowMessage(text);
  <span class="hljs-keyword">end</span>;

  <span class="hljs-comment">// Close the file for the last time</span>
  CloseFile(myFile);
<span class="hljs-keyword">end</span>;
</div></code></pre>
<p><strong>Output</strong>:</p>
<pre><code><code><div>Hello World
1.00000000000000E+0000  1.50000000000000E+0000  2.00000000000000E+0000
1.0  1.5  2.0
</div></code></code></pre>
<h3 id="621-example-code--reading-one-character-at-a-time-from-a-text-file-line">6.2.1. Example code : Reading one character at a time from a text file line</h3>
<pre><code class="language-pas"><div><span class="hljs-keyword">var</span>
  myFile : TextFile;
  letter : char;
  text   : <span class="hljs-keyword">string</span>;

<span class="hljs-keyword">begin</span>
  <span class="hljs-comment">// Try to open the Test.txt file for writing to</span>
  AssignFile(myFile, <span class="hljs-string">&#x27;Test.txt&#x27;</span>);
  ReWrite(myFile);

  <span class="hljs-comment">// Write lines of text to the file</span>
  WriteLn(myFile, <span class="hljs-string">&#x27;Hello&#x27;</span>);
  WriteLn(myFile, <span class="hljs-string">&#x27;To you&#x27;</span>);

  <span class="hljs-comment">// Close the file</span>
  CloseFile(myFile);

  <span class="hljs-comment">// Reopen the file for reading</span>
  Reset(myFile);

  <span class="hljs-comment">// Display the file contents</span>
  <span class="hljs-keyword">while</span> <span class="hljs-keyword">not</span> Eof(myFile) <span class="hljs-keyword">do</span>
  <span class="hljs-keyword">begin</span>
    <span class="hljs-comment">// Proces one line at a time</span>
    ShowMessage(<span class="hljs-string">&#x27;Start of a new line :&#x27;</span>);
    <span class="hljs-keyword">while</span> <span class="hljs-keyword">not</span> Eoln(myFile) <span class="hljs-keyword">do</span>
    <span class="hljs-keyword">begin</span>
      <span class="hljs-keyword">Read</span>(myFile, letter);   <span class="hljs-comment">// Read and display one letter at a time</span>
      ShowMessage(letter);
    <span class="hljs-keyword">end</span>;
    ReadLn(myFile, text);
  <span class="hljs-keyword">end</span>;

  <span class="hljs-comment">// Close the file for the last time</span>
  CloseFile(myFile);
<span class="hljs-keyword">end</span>;
</div></code></pre>
<p><strong>Output</strong>:</p>
<pre><code><code><div>Start of a new line :
H
e
l
l
o
Start of a new line :
T
o

y
o
u
</div></code></code></pre>
<h2 id="63-reading-and-writing-to-typed-binary-files">6.3. Reading and writing to typed binary files</h2>
<p>Typed binary files are files that have a data type as the basic unit of writing and reading. You write, say, an Integer, or a Record to a file, and read the same unit of data back. Records are particularly useful, allowing us to store any mix of data types in the one file unit of data.</p>
<pre><code class="language-pas"><div><span class="hljs-keyword">type</span>
  TCustomer = <span class="hljs-keyword">Record</span>
    <span class="hljs-keyword">name</span> : <span class="hljs-keyword">string</span>[<span class="hljs-number">20</span>];
    age  : Integer;
    male : Boolean;
  <span class="hljs-keyword">end</span>;

<span class="hljs-keyword">var</span>
  myFile   : <span class="hljs-keyword">File</span> <span class="hljs-keyword">of</span> TCustomer;  <span class="hljs-comment">// A file of customer records</span>
  customer : TCustomer;          <span class="hljs-comment">// A customer record variable</span>

<span class="hljs-keyword">begin</span>
  <span class="hljs-comment">// Try to open the Test.cus binary file for writing to</span>
  AssignFile(myFile, <span class="hljs-string">&#x27;Test.cus&#x27;</span>);
  ReWrite(myFile);

  <span class="hljs-comment">// Write a couple of customer records to the file</span>
  customer.<span class="hljs-keyword">name</span> := <span class="hljs-string">&#x27;Fred Bloggs&#x27;</span>;
  customer.age  := <span class="hljs-number">21</span>;
  customer.male := true;
  <span class="hljs-keyword">Write</span>(myFile, customer);

  customer.<span class="hljs-keyword">name</span> := <span class="hljs-string">&#x27;Jane Turner&#x27;</span>;
  customer.age  := <span class="hljs-number">45</span>;
  customer.male := false;
  <span class="hljs-keyword">Write</span>(myFile, customer);

  <span class="hljs-comment">// Close the file</span>
  CloseFile(myFile);

  <span class="hljs-comment">// Reopen the file in read only mode</span>
  FileMode := fmOpenRead;
  Reset(myFile);

  <span class="hljs-comment">// Display the file contents</span>
  <span class="hljs-keyword">while</span> <span class="hljs-keyword">not</span> Eof(myFile) <span class="hljs-keyword">do</span>
  <span class="hljs-keyword">begin</span>
    <span class="hljs-keyword">Read</span>(myFile, customer);
    <span class="hljs-keyword">if</span> customer.male
    <span class="hljs-keyword">then</span> ShowMessage(<span class="hljs-string">&#x27;Man with name &#x27;</span>+customer.<span class="hljs-keyword">name</span>+
                    <span class="hljs-string">&#x27; is &#x27;</span>+IntToStr(customer.age))
    <span class="hljs-keyword">else</span> ShowMessage(<span class="hljs-string">&#x27;Lady with name &#x27;</span>+customer.<span class="hljs-keyword">name</span>+
                    <span class="hljs-string">&#x27; is &#x27;</span>+IntToStr(customer.age));
  <span class="hljs-keyword">end</span>;

  <span class="hljs-comment">// Close the file for the last time</span>
  CloseFile(myFile);
<span class="hljs-keyword">end</span>;
</div></code></pre>
<p><strong>Output</strong>:</p>
<pre><code><code><div>Man with name Fred Bloggs is 21
Lady with name Jane Turner is 45
</div></code></code></pre>
<h2 id="64-reading-and-writing-to-pure-binary-files">6.4. Reading and writing to pure binary files</h2>
<pre><code class="language-pas"><div><span class="hljs-keyword">var</span>
  myFile    : <span class="hljs-keyword">File</span>;
  byteArray : <span class="hljs-keyword">array</span>[<span class="hljs-number">1</span>..<span class="hljs-number">8</span>] <span class="hljs-keyword">of</span> byte;
  oneByte   : byte;
  i, count  : Integer;

<span class="hljs-keyword">begin</span>
  <span class="hljs-comment">// Try to open the Test.byt file for writing to</span>
  AssignFile(myFile, <span class="hljs-string">&#x27;Test.byt&#x27;</span>);
  ReWrite(myFile, <span class="hljs-number">4</span>);   <span class="hljs-comment">// Define a single &#x27;record&#x27; as 4 bytes</span>

  <span class="hljs-comment">// Fill out the data array</span>
  <span class="hljs-keyword">for</span> i := <span class="hljs-number">1</span> <span class="hljs-keyword">to</span> <span class="hljs-number">8</span> <span class="hljs-keyword">do</span>
    byteArray[i] := i;

  <span class="hljs-comment">// Write the data array to the file</span>
  BlockWrite(myFile, byteArray, <span class="hljs-number">2</span>);   <span class="hljs-comment">// Write 2 &#x27;records&#x27; of 4 bytes</span>

  <span class="hljs-comment">// Fill out the data array with different data</span>
  <span class="hljs-keyword">for</span> i := <span class="hljs-number">1</span> <span class="hljs-keyword">to</span> <span class="hljs-number">4</span> <span class="hljs-keyword">do</span>
    byteArray[i] := i*i;              <span class="hljs-comment">// Value : 1, 4, 9, 16</span>

  <span class="hljs-comment">// Write only the first 4 items from the data array to the file</span>
  BlockWrite(myFile, byteArray, <span class="hljs-number">1</span>);   <span class="hljs-comment">// Write 1 record of 4 bytes</span>

  <span class="hljs-comment">// Close the file</span>
  CloseFile(myFile);

  <span class="hljs-comment">// Reopen the file for reading only</span>
  FileMode := fmOpenRead;
  Reset(myFile, <span class="hljs-number">1</span>);   <span class="hljs-comment">// Now we define one record as 1 byte</span>

  <span class="hljs-comment">// Display the file contents</span>
  <span class="hljs-comment">// Start with a read of the first 6 bytes. &#x27;count&#x27; is set to the</span>
  <span class="hljs-comment">// actual number read</span>
  ShowMessage(<span class="hljs-string">&#x27;Reading first set of bytes :&#x27;</span>);
  BlockRead(myFile, byteArray, <span class="hljs-number">6</span>, count);

  <span class="hljs-comment">// Display the byte values read</span>
  <span class="hljs-keyword">for</span> i := <span class="hljs-number">1</span> <span class="hljs-keyword">to</span> count <span class="hljs-keyword">do</span>
    ShowMessage(IntToStr(byteArray[i]));

  <span class="hljs-comment">// Now read one byte at a time to the end of the file</span>
  ShowMessage(<span class="hljs-string">&#x27;Reading remaining bytes :&#x27;</span>);
  <span class="hljs-keyword">while</span> <span class="hljs-keyword">not</span> Eof(myFile) <span class="hljs-keyword">do</span>
  <span class="hljs-keyword">begin</span>
    BlockRead(myFile, oneByte, <span class="hljs-number">1</span>);   <span class="hljs-comment">// Read and display one byte at a time</span>
    ShowMessage(IntToStr(oneByte));
  <span class="hljs-keyword">end</span>;

  <span class="hljs-comment">// Close the file for the last time</span>
  CloseFile(myFile);
<span class="hljs-keyword">end</span>;
</div></code></pre>
<p><strong>Output</strong>:</p>
<pre><code><code><div>Reading first set of bytes :
1
2
3
4
5
6
Reading remaining bytes :
7
8
1
4
9
16
</div></code></code></pre>
<h2 id="65-other-file-processing-mechanisms">6.5. Other file processing mechanisms</h2>
<table>
<thead>
<tr>
<th>name</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>FilePos</code></td>
<td>Gives the file position in a binary or text file</td>
</tr>
<tr>
<td><code>Seek</code></td>
<td>Moves to a new position in the file</td>
</tr>
<tr>
<td><code>SeekEof</code></td>
<td>Skip to the end of the current line or file</td>
</tr>
<tr>
<td><code>SeekEoln</code></td>
<td>Skip to the end of the current line or file</td>
</tr>
</tbody>
</table>
<h2 id="66-getting-information-about-files-and-directories">6.6. Getting information about files and directories</h2>
<table>
<thead>
<tr>
<th>name</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ChDir</code></td>
<td>Change the working drive plus path for a specified drive</td>
</tr>
<tr>
<td><code>CreateDir</code></td>
<td>Create a directory</td>
</tr>
<tr>
<td><code>DeleteFile</code></td>
<td>Delete a file specified by its file name</td>
</tr>
<tr>
<td><code>Erase</code></td>
<td>Erase a file</td>
</tr>
<tr>
<td><code>FileExists</code></td>
<td>Returns true if the given file exists</td>
</tr>
<tr>
<td><code>FileSearch</code></td>
<td>Search for a file in one or more directories</td>
</tr>
<tr>
<td><code>FileSetDate</code></td>
<td>Set the last modified date and time of a file</td>
</tr>
<tr>
<td><code>Flush</code></td>
<td>Flushes buffered text file data to the file</td>
</tr>
<tr>
<td><code>GetCurrentDir</code></td>
<td>Get the current directory (drive plus directory)</td>
</tr>
<tr>
<td><code>MkDir</code></td>
<td>Make a directory</td>
</tr>
<tr>
<td><code>RemoveDir</code></td>
<td>Remove a directory</td>
</tr>
<tr>
<td><code>Rename</code></td>
<td>Rename a file</td>
</tr>
<tr>
<td><code>RenameFile</code></td>
<td>Rename a file or directory</td>
</tr>
<tr>
<td><code>RmDir</code></td>
<td>Remove a directory</td>
</tr>
<tr>
<td><code>SelectDirectory</code></td>
<td>Display a dialog to allow user selection of a directory</td>
</tr>
<tr>
<td><code>SetCurrentDir</code></td>
<td>Change the current directory</td>
</tr>
<tr>
<td><code>Truncate</code></td>
<td>Truncates a file size</td>
</tr>
</tbody>
</table>
<h2 id="67-using-tstringlist-to-read-and-write-text-files">6.7. Using TStringList to read and write text files</h2>
<p>The <code>TStringList</code> class is a very useful utility class that works on a lits of strings, each indexable like an array. The list can be sorted, and supports name/value pair strings, allowing selection by name or value.</p>
<p>These lists can be furnished from text files in one fell swoop.</p>
<pre><code class="language-pas"><div><span class="hljs-keyword">var</span>
  fileData : TStringList;                <span class="hljs-comment">// Our TStringList variable</span>
<span class="hljs-keyword">begin</span>
  fileData := TStringList.Create;        <span class="hljs-comment">// Create the TSTringList object</span>
  fileData.LoadFromFile(<span class="hljs-string">&#x27;Testing.txt&#x27;</span>);  <span class="hljs-comment">// Load from Testing.txt file</span>
  ...
</div></code></pre>
<p>We can display the whole file in a <code>Memo box</code>:</p>
<pre><code class="language-pas"><div>memoBox.Text := fileData.Text;
</div></code></pre>
<p>And we can display or process the file with direct access to any line at any time. In the example code below, we open a text file, reverse all lines in the file, and then save it back. Not terribly useful, but it shows the power of TStringList.</p>
<pre><code class="language-pas"><div><span class="hljs-keyword">var</span>
  fileData : TStringList;
  saveLine : <span class="hljs-keyword">String</span>;
  lines, i : Integer;
<span class="hljs-keyword">begin</span>
  fileData := TStringList.Create;        <span class="hljs-comment">// Create the TSTringList object</span>
  fileData.LoadFromFile(<span class="hljs-string">&#x27;Test.txt&#x27;</span>);     <span class="hljs-comment">// Load from Testing.txt file</span>

  <span class="hljs-comment">// Reverse the sequence of lines in the file</span>
  lines := fileData.Count;

  <span class="hljs-keyword">for</span> i := lines-<span class="hljs-number">1</span> <span class="hljs-keyword">downto</span> (lines <span class="hljs-keyword">div</span> <span class="hljs-number">2</span>) <span class="hljs-keyword">do</span>
  <span class="hljs-keyword">begin</span>
    saveLine := fileData[lines-i-<span class="hljs-number">1</span>];
    fileData[lines-i-<span class="hljs-number">1</span>] := fileData[i];
    fileData[i] := saveLine;
  <span class="hljs-keyword">end</span>;

  <span class="hljs-comment">// Now display the file</span>
  <span class="hljs-keyword">for</span> i := <span class="hljs-number">0</span> <span class="hljs-keyword">to</span> lines-<span class="hljs-number">1</span> <span class="hljs-keyword">do</span>
    ShowMessage(fileData[i]);

  fileData.SaveToFile(<span class="hljs-string">&#x27;Test.txt&#x27;</span>);       <span class="hljs-comment">// Save the reverse sequence file</span>
<span class="hljs-keyword">end</span>;
</div></code></pre>
<h2 id="68-extract-file-path">6.8. Extract file path</h2>
<p>The <code>ExtractFilePath</code> function extracts from <code>FullFileName</code> the path substring.</p>
<p>This is the part of the full file name up to and including the final <code>\</code> before the file name.</p>
<pre><code class="language-pas"><div><span class="hljs-keyword">var</span>
  fullFileName : <span class="hljs-keyword">string</span>;

<span class="hljs-keyword">begin</span>
  <span class="hljs-comment">// Set up a full file name with drive and path</span>
  fullFileName := <span class="hljs-string">&#x27;C:\Program Files\Borland\Delphi7\Projects\Unit1.dcu&#x27;</span>;

  <span class="hljs-comment">// Show the component parts of this full name</span>
  ShowMessage(<span class="hljs-string">&#x27;Drive = &#x27;</span>+ExtractFileDrive (fullFileName));
  ShowMessage(<span class="hljs-string">&#x27;Dir   = &#x27;</span>+ExtractFileDir   (fullFileName));
  ShowMessage(<span class="hljs-string">&#x27;Path  = &#x27;</span>+ExtractFilePath  (fullFileName));
  ShowMessage(<span class="hljs-string">&#x27;Name  = &#x27;</span>+ExtractFileName  (fullFileName));
  ShowMessage(<span class="hljs-string">&#x27;Ext   = &#x27;</span>+ExtractFileExt   (fullFileName));
<span class="hljs-keyword">end</span>;
</div></code></pre>
<p><strong>Output</strong>:</p>
<pre><code><code><div>Drive = C:
Dir   = C:\Program Files\Borland\Delphi7\Projects
Path  = C:\Program Files\Borland\Delphi7\Projects\
Name  = Unit1.dcu
Ext   = .dcu
</div></code></code></pre>
<h2 id="69-paramstr">6.9. ParamStr</h2>
<p>The <code>ParamStr</code> function returns one of the parameters from the command line used to invoke the current program.</p>
<p>The <code>ParamIndex</code> parameter determines which parameter is returned:</p>
<p><code>0</code> : The execution drive/path/program 1 : Return the 1st parameter 2 : Return the 2nd parameter ...</p>
<p>If there is no parameter value for the given index,an empty string is returned.</p>
<pre><code class="language-pas"><div><span class="hljs-keyword">var</span>
  cmd : <span class="hljs-keyword">string</span>;
  i : Integer;

<span class="hljs-keyword">begin</span>
  <span class="hljs-comment">// Before running this code, use the Run/parameters menu option</span>
  <span class="hljs-comment">// to set the following command line parameters : -parm1 -parm2</span>

  <span class="hljs-comment">// Show these parameters - note that the 0th parameter is the</span>
  <span class="hljs-comment">// execution command on Windows</span>
  <span class="hljs-keyword">for</span> i := <span class="hljs-number">0</span> <span class="hljs-keyword">to</span> ParamCount <span class="hljs-keyword">do</span>
    ShowMessage(<span class="hljs-string">&#x27;Parameter &#x27;</span>+IntToStr(i)+<span class="hljs-string">&#x27; = &#x27;</span>+ParamStr(i));
<span class="hljs-keyword">end</span>;
</div></code></pre>
<h1 id="7-conversions">7. Conversions</h1>
<h2 id="71-integer-to-string">7.1. Integer to string</h2>
<pre><code class="language-pas"><div><span class="hljs-keyword">var</span>
  NormalInteger : Integer;
  BigInteger    : Int64;

<span class="hljs-keyword">begin</span>
  NormalInteger := <span class="hljs-number">2147483647</span>;          <span class="hljs-comment">// Largest possible Integer value</span>
  BigInteger    := <span class="hljs-number">9223372036854775807</span>; <span class="hljs-comment">// Largest possible Int64 value</span>

  ShowMessage(<span class="hljs-string">&#x27;NormalInteger :     &#x27;</span>+IntToStr(NormalInteger));
  ShowMessage(<span class="hljs-string">&#x27;BigInteger :        &#x27;</span>+IntToStr(BigInteger));
  ShowMessage(<span class="hljs-string">&#x27;Calculated number : &#x27;</span>+IntToStr(<span class="hljs-number">27</span> * <span class="hljs-number">4</span>));
<span class="hljs-keyword">end</span>;
</div></code></pre>
<h2 id="72-float-to-string">7.2. Float to string</h2>
<pre><code class="language-pas"><div><span class="hljs-keyword">var</span>
  amount1, amount2, amount3 : Extended;
<span class="hljs-keyword">begin</span>
  amount1 := <span class="hljs-number">1234567890.123456789</span>;  <span class="hljs-comment">// High precision number</span>
  amount2 := <span class="hljs-number">1234567890123456.123</span>;  <span class="hljs-comment">// High mantissa digits</span>
  amount3 := <span class="hljs-number">1</span>E100;                 <span class="hljs-comment">// High value number</span>

  ShowMessage(<span class="hljs-string">&#x27;Amount1 = &#x27;</span>+FloatToStr(amount1));
  ShowMessage(<span class="hljs-string">&#x27;Amount2 = &#x27;</span>+FloatToStr(amount2));
  ShowMessage(<span class="hljs-string">&#x27;Amount3 = &#x27;</span>+FloatToStr(amount3));
<span class="hljs-keyword">end</span>;
</div></code></pre>
<h2 id="73-string-to-integer">7.3. String to integer</h2>
<pre><code class="language-pas"><div><span class="hljs-keyword">var</span>
  A, B, C, D, E, F : Integer;

<span class="hljs-keyword">begin</span>
  A := <span class="hljs-number">32</span>;
  B := StrToInt(<span class="hljs-string">&#x27;100&#x27;</span>);    <span class="hljs-comment">// &#x27;100&#x27; string converted to 100 integer</span>
  C := StrToInt(<span class="hljs-string">&#x27;  -12&#x27;</span>);  <span class="hljs-comment">// Leading blanks are ignored</span>
  D := StrToInt(<span class="hljs-string">&#x27;$1E&#x27;</span>);    <span class="hljs-comment">// Hexadecimal values start with a &#x27;$&#x27;</span>
  E := StrToInt(<span class="hljs-string">&#x27;-0x1E&#x27;</span>);  <span class="hljs-comment">// ... or with a &#x27;0x&#x27;</span>
  F := A + B + C + D + E;  <span class="hljs-comment">// Lets add up all these integers</span>

  ShowMessage(<span class="hljs-string">&#x27;A : &#x27;</span>+IntToStr(A));
  ShowMessage(<span class="hljs-string">&#x27;B : &#x27;</span>+IntToStr(B));
  ShowMessage(<span class="hljs-string">&#x27;C : &#x27;</span>+IntToStr(C));
  ShowMessage(<span class="hljs-string">&#x27;D : &#x27;</span>+IntToStr(D));
  ShowMessage(<span class="hljs-string">&#x27;E : &#x27;</span>+IntToStr(E));
  ShowMessage(<span class="hljs-string">&#x27;F : &#x27;</span>+IntToStr(F));
<span class="hljs-keyword">end</span>;
</div></code></pre>
<pre><code class="language-pas"><div><span class="hljs-keyword">var</span>
  A : Integer;

<span class="hljs-keyword">begin</span>
  <span class="hljs-comment">// We will catch conversion errors</span>
  <span class="hljs-keyword">try</span>
    A := StrToInt(<span class="hljs-string">&#x27;100 &#x27;</span>);    <span class="hljs-comment">// Trailing blanks are not supported</span>
  <span class="hljs-keyword">except</span>
    <span class="hljs-keyword">on</span> Exception : EConvertError <span class="hljs-keyword">do</span>
      ShowMessage(Exception.<span class="hljs-keyword">Message</span>);
  <span class="hljs-keyword">end</span>;

  <span class="hljs-keyword">try</span>
    A := StrToInt(<span class="hljs-string">&#x27;$FG&#x27;</span>);    <span class="hljs-comment">// &#x27;G&#x27; is an invalid hexadecimal digit</span>
  <span class="hljs-keyword">except</span>
    <span class="hljs-keyword">on</span> Exception : EConvertError <span class="hljs-keyword">do</span>
      ShowMessage(Exception.<span class="hljs-keyword">Message</span>);
  <span class="hljs-keyword">end</span>;
<span class="hljs-keyword">end</span>;
</div></code></pre>
<h2 id="74-tryparse-string-to-integer">7.4. Tryparse string to integer</h2>
<pre><code class="language-pas"><div><span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> TryStrToInt(StrVal, IntVal) <span class="hljs-keyword">then</span>
<span class="hljs-keyword">begin</span>
<span class="hljs-comment">// error handling</span>
<span class="hljs-keyword">end</span>;
</div></code></pre>
<h1 id="8-format">8. Format</h1>
<p>The Format function provides 'C' like formatting of multiple of simple data types into a string. It provides very precise control over this formatting.</p>
<p>The Formatting parameter defines how the Data array is manipulated into the returned string.</p>
<p>The Formatting string can comprise a mix of ordinary characters (that are passed unchanged to the result string), and data formatting characters. This formatting is best explained by the example code.</p>
<p>In simple terms, each data formatting substring starts with a % and ends with a data type indicator :</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>d</td>
<td>Decimal (integer)</td>
</tr>
<tr>
<td>e</td>
<td>Scientific</td>
</tr>
<tr>
<td>f</td>
<td>Fixed</td>
</tr>
<tr>
<td>g</td>
<td>General</td>
</tr>
<tr>
<td>m</td>
<td>Money</td>
</tr>
<tr>
<td>n</td>
<td>Number (floating)</td>
</tr>
<tr>
<td>p</td>
<td>Pointer</td>
</tr>
<tr>
<td>s</td>
<td>String</td>
</tr>
<tr>
<td>u</td>
<td>Unsigned decimal</td>
</tr>
<tr>
<td>x</td>
<td>Hexadecimal</td>
</tr>
</tbody>
</table>
<p>The general format of each formatting substring is as follows:</p>
<p>%[Index:][-][Width][.Precision]Type</p>
<p>where the square brackets refer to optional parameters, and the : . - characters are literals, the first 2 of which are used to identify two of the optional arguments.</p>
<p>Version 2 of this function is for use within threads. You furnish the FormatSettings record before invoking the call. It takes a local copy of global formatting variables that make the routine thread safe.</p>
<p><a href="http://www.delphibasics.co.uk/RTL.asp?Name=Format">more</a></p>
<h1 id="9-class">9. Class</h1>
<pre><code class="language-pas"><div><span class="hljs-keyword">type</span>
  <span class="hljs-title">className</span> = <span class="hljs-keyword">class</span>(BaseClass)
  <span class="hljs-keyword">private</span>
    <span class="hljs-comment">// Data/method defs local to this Unit</span>
  <span class="hljs-keyword">protected</span>
    <span class="hljs-comment">// Data/method defs local to this class + descendants</span>
  <span class="hljs-keyword">public</span>
    <span class="hljs-comment">// Data/method defs usable with all objects of this class</span>
  <span class="hljs-keyword">published</span>
    <span class="hljs-comment">// Externally interrogatable public definitions</span>
<span class="hljs-keyword">end</span>;
</div></code></pre>
<p>Fruit class:</p>
<pre><code class="language-pas"><div><span class="hljs-title">TFruit</span> = <span class="hljs-keyword">Class</span>(TObject)  <span class="hljs-comment">// This is an actual class definition :</span>
    <span class="hljs-comment">// Internal class field definitions - only accessible in this unit</span>
    <span class="hljs-keyword">private</span>
      isRound  : Boolean;
      length   : single;
      width    : single;
      diameter : single;
    <span class="hljs-comment">// Fields and methods only accessible by this class and descendants</span>
    <span class="hljs-keyword">protected</span>
    <span class="hljs-comment">// Externally accessible fields and methods</span>
    <span class="hljs-keyword">public</span>
      <span class="hljs-comment">// 2 constructors - one for round fruit, the other long fruit</span>
      <span class="hljs-function"><span class="hljs-keyword">constructor</span> <span class="hljs-title">Create</span><span class="hljs-params">(diameter : single)</span>;</span>               <span class="hljs-keyword">overload</span>;
      <span class="hljs-function"><span class="hljs-keyword">constructor</span> <span class="hljs-title">Create</span><span class="hljs-params">(length : single; width : single)</span>;</span> <span class="hljs-keyword">overload</span>;
    <span class="hljs-comment">// Externally accessible and inspectable fields and methods</span>
    <span class="hljs-keyword">published</span>
      <span class="hljs-comment">// Note that properties must use different names to local defs</span>
      <span class="hljs-keyword">property</span> round : Boolean
        <span class="hljs-keyword">read</span>   isRound;
      <span class="hljs-keyword">property</span> len   : single
        <span class="hljs-keyword">read</span>   length;
      <span class="hljs-keyword">property</span> wide  : single
        <span class="hljs-keyword">read</span>   width;
      <span class="hljs-keyword">property</span> diam  : single
        <span class="hljs-keyword">read</span>   diameter;
  <span class="hljs-keyword">end</span>;                    <span class="hljs-comment">// End of the TFruit class definition</span>
</div></code></pre>
<p>Create constructors:</p>
<pre><code class="language-pas"><div><span class="hljs-comment">// Create a round fruit object</span>
<span class="hljs-function"><span class="hljs-keyword">constructor</span> <span class="hljs-title">TFruit</span>.<span class="hljs-title">Create</span><span class="hljs-params">(diameter: single)</span>;</span>
<span class="hljs-keyword">begin</span>
  <span class="hljs-comment">// Indicate that we have a round fruit, and set its size</span>
  isRound       := true;
  self.diameter := diameter;
<span class="hljs-keyword">end</span>;

<span class="hljs-comment">// Create a long fruit object</span>
<span class="hljs-function"><span class="hljs-keyword">constructor</span> <span class="hljs-title">TFruit</span>.<span class="hljs-title">Create</span><span class="hljs-params">(length, width: single)</span>;</span>
<span class="hljs-keyword">begin</span>
  <span class="hljs-comment">// Indicate that we have a long fruit, and set its size</span>
  isRound     := false;
  self.length := length;
  self.width  := width;
<span class="hljs-keyword">end</span>;
</div></code></pre>
<p>Create instance of <code>TFruit</code>:</p>
<pre><code class="language-pas"><div><span class="hljs-keyword">var</span> apple, banana : TFruit;

apple  := TFruit.Create(<span class="hljs-number">3.5</span>);
banana := TFruit.Create(<span class="hljs-number">7.0</span>, <span class="hljs-number">1.75</span>);
</div></code></pre>
<h1 id="10-ui-elements">10. UI elements</h1>
<h2 id="101-label">10.1. Label</h2>
<pre><code class="language-pas"><div>Label1.Caption := <span class="hljs-string">&#x27;szveg&#x27;</span>
</div></code></pre>
<h2 id="102-dialog">10.2. Dialog</h2>
<p>The <code>DialogType</code> may have one of the following enumerated values:</p>
<table>
<thead>
<tr>
<th>name</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>mtWarning</code></td>
<td>Displays a exclamation symbol</td>
</tr>
<tr>
<td><code>mtError</code></td>
<td>Displays a red 'X'</td>
</tr>
<tr>
<td><code>mtInformation</code></td>
<td>Displays an 'i' in a bubble</td>
</tr>
<tr>
<td><code>mtConfirmation</code></td>
<td>Displays an question mark</td>
</tr>
<tr>
<td><code>mtCustom</code></td>
<td>Displays just the message</td>
</tr>
</tbody>
</table>
<p>The <code>Buttons</code> value may be one or more of the following enumerated values :</p>
<table>
<thead>
<tr>
<th>name</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>mbYes</code></td>
<td>Displays a 'Yes' button</td>
</tr>
<tr>
<td><code>mbNo</code></td>
<td>Displays a 'No' button</td>
</tr>
<tr>
<td><code>mbOK</code></td>
<td>Displays an 'OK' button</td>
</tr>
<tr>
<td><code>mbCancel</code></td>
<td>Displays a 'Cancel' button</td>
</tr>
<tr>
<td><code>mbAbort</code></td>
<td>Displays an 'Abort' button</td>
</tr>
<tr>
<td><code>mbRetry</code></td>
<td>Displays a 'Retry' button</td>
</tr>
<tr>
<td><code>mbIgnore</code></td>
<td>Displays an 'Ignore' button</td>
</tr>
<tr>
<td><code>mbAll</code></td>
<td>Displays an 'All' button</td>
</tr>
<tr>
<td><code>mbNoToAll</code></td>
<td>Displays a 'No to all' button</td>
</tr>
<tr>
<td><code>mbYesToAll</code></td>
<td>Displys a 'Yes to all' button</td>
</tr>
<tr>
<td><code>mbHelp</code></td>
<td>Displays a 'Help' button</td>
</tr>
</tbody>
</table>
<p>You specify these values comma separated in square brackets, as in the second code example.</p>
<p>Delphi provides a number of predefined button combinations:</p>
<table>
<thead>
<tr>
<th>name</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>mbYesNoCancel</code></td>
<td>[mbYes,mbNO,mbCancel]</td>
</tr>
<tr>
<td><code>mbYesAllNoAllCancel</code></td>
<td>[mbYes,mbYesToAll, mbNo,mbNoToAll,mbCancel]</td>
</tr>
<tr>
<td><code>mbOKCancel</code></td>
<td>[mbOK,mbCancel]</td>
</tr>
<tr>
<td><code>mbAbortRetryCancel</code></td>
<td>[mbAbort,mbRetry,mbCancel]</td>
</tr>
<tr>
<td><code>mbAbortIgnore</code></td>
<td>[mbAbort,mbIgnore]</td>
</tr>
</tbody>
</table>
<p>Now Delphi seem to have made a design error when setting the return value from the dialog box. Instead of specifying the enumeration value of the button pressed, it uses a completely different set of enumeration names:</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>mrYes</code></td>
<td>6</td>
</tr>
<tr>
<td><code>mrNo</code></td>
<td>7</td>
</tr>
<tr>
<td><code>mrOK</code></td>
<td>1</td>
</tr>
<tr>
<td><code>mrCancel</code></td>
<td>2</td>
</tr>
<tr>
<td><code>mrAbort</code></td>
<td>3</td>
</tr>
<tr>
<td><code>mrRetry</code></td>
<td>4</td>
</tr>
<tr>
<td><code>mrIgnore</code></td>
<td>5</td>
</tr>
<tr>
<td><code>mrAll</code></td>
<td>8</td>
</tr>
<tr>
<td><code>mrNoToAll</code></td>
<td>9</td>
</tr>
<tr>
<td><code>mrYesToAll</code></td>
<td>10</td>
</tr>
</tbody>
</table>
<p>The values given are the numerical values of these enumerations, given in the numerical order that the mb equivalents are defined. This is very odd.</p>
<p>Additionally, these values are defined in the Controls unit, not the Dialogs unit.</p>
<p>Note that the Help button has no equivalent return value. This is because it does not terminate the dialog.</p>
<p>The HelpContext value is used in conjunction with the Help button. It's use is beyond the scope of Delphi Basics.</p>
<h3 id="1021-confirmation-dialog">10.2.1. Confirmation dialog</h3>
<pre><code class="language-pas"><div><span class="hljs-keyword">var</span>
  buttonSelected : Integer;
<span class="hljs-keyword">begin</span>
  <span class="hljs-comment">// Show a confirmation dialog</span>
  buttonSelected := MessageDlg(<span class="hljs-string">&#x27;Confirmation&#x27;</span>,mtError, mbOKCancel, <span class="hljs-number">0</span>);

  <span class="hljs-comment">// Show the button type selected</span>
  <span class="hljs-keyword">if</span> buttonSelected = mrOK     <span class="hljs-keyword">then</span> ShowMessage(<span class="hljs-string">&#x27;OK pressed&#x27;</span>);
  <span class="hljs-keyword">if</span> buttonSelected = mrCancel <span class="hljs-keyword">then</span> ShowMessage(<span class="hljs-string">&#x27;Cancel pressed&#x27;</span>);
<span class="hljs-keyword">end</span>;
</div></code></pre>
<h3 id="1022-custom-dialog-with-custom-button-selection">10.2.2. Custom dialog with custom button selection</h3>
<pre><code class="language-pas"><div><span class="hljs-keyword">var</span>
  buttonSelected : Integer;
<span class="hljs-keyword">begin</span>
  <span class="hljs-comment">// Show a custom dialog</span>
  buttonSelected := MessageDlg(<span class="hljs-string">&#x27;Custom dialog&#x27;</span>,mtCustom,
                              [mbYes,mbAll,mbCancel], <span class="hljs-number">0</span>);

  <span class="hljs-comment">// Show the button type selected</span>
  <span class="hljs-keyword">if</span> buttonSelected = mrYes    <span class="hljs-keyword">then</span> ShowMessage(<span class="hljs-string">&#x27;Yes pressed&#x27;</span>);
  <span class="hljs-keyword">if</span> buttonSelected = mrAll    <span class="hljs-keyword">then</span> ShowMessage(<span class="hljs-string">&#x27;All pressed&#x27;</span>);
  <span class="hljs-keyword">if</span> buttonSelected = mrCancel <span class="hljs-keyword">then</span> ShowMessage(<span class="hljs-string">&#x27;Cancel pressed&#x27;</span>);
<span class="hljs-keyword">end</span>;
</div></code></pre>
<h2 id="103-picture">10.3. Picture</h2>
<pre><code class="language-pas"><div>PlayerCard1.Picture.LoadFromFile(<span class="hljs-string">&#x27;C:\Users\w\Desktop\delphi\black_jack\images\AC.PNG&#x27;</span>);
</div></code></pre>
<h2 id="104-timer">10.4. Timer</h2>
<pre><code class="language-pas"><div>Ora := TTimer.Create(Self);
Ora.Interval := <span class="hljs-number">100</span>; <span class="hljs-comment">// 100 ms</span>
Ora.OnTimer := LetsGo; <span class="hljs-comment">// call procedure in every 100 ms</span>
Ora.Enabled := false; <span class="hljs-comment">// don&#x27;t start</span>
</div></code></pre>
<h2 id="105-toolbar">10.5. Toolbar</h2>
<h2 id="106-form">10.6. Form</h2>
<p><code>OnCreate</code></p>
<h3 id="1061-create-another-form">10.6.1. Create another form</h3>
<p>Other form:</p>
<pre><code class="language-pas"><div><span class="hljs-keyword">unit</span> Unit2;

<span class="hljs-keyword">interface</span>

<span class="hljs-keyword">uses</span>
  Winapi.Windows, Winapi.Messages, System.SysUtils, System.Variants, System.Classes, Vcl.Graphics,
  Vcl.Controls, Vcl.Forms, Vcl.Dialogs, Vcl.StdCtrls;

<span class="hljs-keyword">type</span>
  <span class="hljs-title">TForm2</span> = <span class="hljs-keyword">class</span>(TForm)
    ListBox1: TListBox;
  <span class="hljs-keyword">private</span>
    <span class="hljs-comment">{ Private declarations }</span>
  <span class="hljs-keyword">public</span>
    <span class="hljs-comment">{ Public declarations }</span>
    <span class="hljs-function"><span class="hljs-keyword">constructor</span> <span class="hljs-title">Create</span><span class="hljs-params">(AOwner:Tcomponent;Valasztek:TStrings)</span>;</span>
  <span class="hljs-keyword">end</span>;

<span class="hljs-keyword">var</span>
  Form2: TForm2;

<span class="hljs-keyword">implementation</span>

<span class="hljs-meta">{$R *.dfm}</span>

<span class="hljs-function"><span class="hljs-keyword">constructor</span> <span class="hljs-title">TForm2</span>.<span class="hljs-title">Create</span><span class="hljs-params">(AOwner: TComponent; Valasztek:TStrings)</span>;</span>
<span class="hljs-keyword">begin</span>
  <span class="hljs-keyword">inherited</span> Create(Owner);
  Listbox1.items.Assign(valasztek);
<span class="hljs-keyword">end</span>;

<span class="hljs-keyword">end</span>.
</div></code></pre>
<p>Create the other form</p>
<pre><code class="language-pas"><div><span class="hljs-keyword">uses</span> .. , Unit2;

...

<span class="hljs-function"><span class="hljs-keyword">procedure</span> <span class="hljs-title">TForm1</span>.<span class="hljs-title">Button1Click</span><span class="hljs-params">(Sender: TObject)</span>;</span>
<span class="hljs-keyword">var</span> otherForm : TForm2;
<span class="hljs-keyword">var</span> items : TStringList;
<span class="hljs-keyword">begin</span>
  <span class="hljs-comment">// create a list and put items in it</span>
  items := TStringList.Create;
  items.Add(<span class="hljs-string">&#x27;elso&#x27;</span>);
  items.Add(<span class="hljs-string">&#x27;masodik&#x27;</span>);
  items.Add(<span class="hljs-string">&#x27;harmadik&#x27;</span>);

  <span class="hljs-comment">// call the constructor</span>
  otherForm:=TForm2.Create(Self, items);
  <span class="hljs-comment">// I don&#x27;t know what is it but without this, the other form will not open</span>
  <span class="hljs-keyword">if</span> otherForm.ShowModal=mrOk <span class="hljs-keyword">then</span>
  <span class="hljs-keyword">begin</span>

  <span class="hljs-keyword">end</span>;
  items.Free;
  otherForm.free;
<span class="hljs-keyword">end</span>;
</div></code></pre>
<h2 id="107-listbox">10.7. ListBox</h2>
<p>Add item: <code>ListBox1.Items.Add(string)</code></p>
<p>Delete item: <code>ListBox1.Items.Delete(index)</code></p>
<p>Get selected:</p>
<pre><code class="language-pas"><div><span class="hljs-keyword">for</span> i := <span class="hljs-number">0</span> <span class="hljs-keyword">to</span> ListBox1.Items.Count - <span class="hljs-number">1</span> <span class="hljs-keyword">do</span>
<span class="hljs-keyword">begin</span>
  <span class="hljs-keyword">if</span> ListBox1.Selected[i] <span class="hljs-keyword">then</span>
  <span class="hljs-keyword">begin</span>
      selectedItemIndex := i;
  <span class="hljs-keyword">end</span>;
<span class="hljs-keyword">end</span>;
</div></code></pre>
<p><code>Multiselect := true</code> / <code>false</code></p>
<h2 id="108-drag-and-drop">10.8. Drag and drop</h2>
<h3 id="1081-listbox">10.8.1. ListBox</h3>
<p>There is 2 listboxes</p>
<p>Drag items from listbox1 to listbox2</p>
<p>Add items to listbox1</p>
<pre><code class="language-pas"><div><span class="hljs-function"><span class="hljs-keyword">procedure</span> <span class="hljs-title">TForm1</span>.<span class="hljs-title">FormCreate</span><span class="hljs-params">(Sender: TObject)</span>;</span>
<span class="hljs-keyword">begin</span>
  ListBox1.Items.Add(<span class="hljs-string">&#x27;elso&#x27;</span>);
  ListBox1.Items.Add(<span class="hljs-string">&#x27;masodik&#x27;</span>);
  ListBox1.Items.Add(<span class="hljs-string">&#x27;harmadik&#x27;</span>);
<span class="hljs-keyword">end</span>;
</div></code></pre>
<p>If start drag, save the selected items index for later usage</p>
<pre><code class="language-pas"><div><span class="hljs-function"><span class="hljs-keyword">procedure</span> <span class="hljs-title">TForm1</span>.<span class="hljs-title">ListBox1DragOver</span><span class="hljs-params">(Sender, Source: TObject; X, Y: Integer;
  State: TDragState; <span class="hljs-keyword">var</span> Accept: Boolean)</span>;</span>
<span class="hljs-keyword">var</span> i : integer;
<span class="hljs-keyword">begin</span>
  <span class="hljs-keyword">for</span> i := <span class="hljs-number">0</span> <span class="hljs-keyword">to</span> ListBox1.Items.Count - <span class="hljs-number">1</span> <span class="hljs-keyword">do</span>
  <span class="hljs-keyword">begin</span>
    <span class="hljs-keyword">if</span> ListBox1.Selected[i] <span class="hljs-keyword">then</span>
    <span class="hljs-keyword">begin</span>
        selectedItemIndex := i;
    <span class="hljs-keyword">end</span>;
  <span class="hljs-keyword">end</span>;
<span class="hljs-keyword">end</span>;
</div></code></pre>
<p>If there are items in listbox1, enable drag</p>
<pre><code class="language-pas"><div><span class="hljs-function"><span class="hljs-keyword">procedure</span> <span class="hljs-title">TForm1</span>.<span class="hljs-title">ListBox1MouseDown</span><span class="hljs-params">(Sender: TObject; Button: TMouseButton;
  Shift: TShiftState; X, Y: Integer)</span>;</span>
<span class="hljs-keyword">begin</span>
  <span class="hljs-keyword">if</span> ListBox1.Items.Count &gt; <span class="hljs-number">0</span> <span class="hljs-keyword">then</span>
  <span class="hljs-keyword">begin</span>
        TListBox(Sender).BeginDrag(false, <span class="hljs-number">5</span>);
  <span class="hljs-keyword">end</span>;
<span class="hljs-keyword">end</span>;
</div></code></pre>
<p>Add selected item from listbox1 to listbox2 when dropped on listbox2.</p>
<p>Then delete from listbox1</p>
<pre><code class="language-pas"><div><span class="hljs-function"><span class="hljs-keyword">procedure</span> <span class="hljs-title">TForm1</span>.<span class="hljs-title">ListBox2DragDrop</span><span class="hljs-params">(Sender, Source: TObject; X, Y: Integer)</span>;</span>
<span class="hljs-keyword">begin</span>
  ListBox2.Items.Add(ListBox1.Items[selectedItemIndex]);
  ListBox1.Items.Delete(selectedItemIndex);
<span class="hljs-keyword">end</span>;
</div></code></pre>
<p>Enable drag to listbox2</p>
<pre><code class="language-pas"><div><span class="hljs-function"><span class="hljs-keyword">procedure</span> <span class="hljs-title">TForm1</span>.<span class="hljs-title">ListBox2DragOver</span><span class="hljs-params">(Sender, Source: TObject; X, Y: Integer;
  State: TDragState; <span class="hljs-keyword">var</span> Accept: Boolean)</span>;</span>
<span class="hljs-keyword">begin</span>
  Accept := true;
<span class="hljs-keyword">end</span>;
</div></code></pre>
<h2 id="109-stringgrid">10.9. StringGrid</h2>
<pre><code class="language-pas"><div>StringGrid1.Cells[columnIndex, rowIndex] := <span class="hljs-string">&#x27;yo&#x27;</span>;

<span class="hljs-comment">// last row last cell</span>
<span class="hljs-comment">// you will need -1, because of the indexing</span>
StringGrid1.Cells[StringGrid1.ColCount - <span class="hljs-number">1</span>, StringGrid1.RowCount - <span class="hljs-number">1</span>] := <span class="hljs-string">&#x27;ez&#x27;</span>;
</div></code></pre>
<h2 id="canvas">Canvas</h2>
<h3 id="draw-line">Draw line</h3>
<p>Draw line on Image1</p>
<pre><code class="language-pas"><div><span class="hljs-keyword">with</span> Image1.Canvas <span class="hljs-keyword">do</span>
<span class="hljs-keyword">begin</span>
  Brush.Style := bsClear;
  Pen.Style := psSolid;
  Pen.Color := clGreen;
  Pen.Width := <span class="hljs-number">50</span>;
  MoveTo(<span class="hljs-number">19</span>,<span class="hljs-number">79</span>);
  LineTo(<span class="hljs-number">40</span>,<span class="hljs-number">35</span>);
<span class="hljs-keyword">end</span>;
</div></code></pre>
<h3 id="draw-ellipse">Draw ellipse</h3>
<pre><code class="language-pas"><div>Ellipse(<span class="hljs-number">20</span>,<span class="hljs-number">200</span>,<span class="hljs-number">50</span>,<span class="hljs-number">70</span>);
</div></code></pre>
<h1 id="11-good-to-know">11. Good to know</h1>
<h2 id="111-generate-random-character">11.1. Generate random character</h2>
<p>'A' to 'Z' = 65 - 90</p>
<pre><code class="language-pas"><div>chr(random(<span class="hljs-number">25</span>) + <span class="hljs-number">65</span>)
</div></code></pre>
<p>Or</p>
<pre><code class="language-pas"><div><span class="hljs-keyword">uses</span> Math

...

chr(RandomRange(<span class="hljs-number">65</span>, <span class="hljs-number">90</span>))
</div></code></pre>
<h2 id="112-textbox-edit-when-press-enter">11.2. Textbox <code>Edit</code> when press enter</h2>
<pre><code class="language-pas"><div><span class="hljs-function"><span class="hljs-keyword">procedure</span> <span class="hljs-title">TForm1</span>.<span class="hljs-title">Edit1KeyPress</span><span class="hljs-params">(Sender: TObject; <span class="hljs-keyword">var</span> Key: Char)</span>;</span>
<span class="hljs-keyword">begin</span>
  <span class="hljs-keyword">if</span> ord(Key) = VK_RETURN <span class="hljs-keyword">then</span>
  <span class="hljs-keyword">begin</span>
    Key := <span class="hljs-string">#0</span>; <span class="hljs-comment">// prevent beeping</span>
    WebBrowser1.Navigate(Edit1.Text);
  <span class="hljs-keyword">end</span>;
<span class="hljs-keyword">end</span>; 
</div></code></pre>
<h1 id="12-errors">12. Errors</h1>
<p>If delphi can't create exe and it isn't opened, find it int Task Manager and kill it.</p>

    </body>
    </html>